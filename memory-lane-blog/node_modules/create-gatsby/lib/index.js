var e=require("assert"),t=require("events"),i=require("readline"),s=require("child_process"),r=require("path"),n=require("fs"),o=require("os"),a=require("buffer"),l=require("stream"),c=require("util"),u=require("constants"),h=require("crypto"),d=require("tty");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=/*#__PURE__*/p(e),m=/*#__PURE__*/p(t),y=/*#__PURE__*/p(i),g=/*#__PURE__*/p(s),w=/*#__PURE__*/p(r),b=/*#__PURE__*/p(n),v=/*#__PURE__*/p(o),E=/*#__PURE__*/p(a),S=/*#__PURE__*/p(l),I=/*#__PURE__*/p(c),x=/*#__PURE__*/p(u),O=/*#__PURE__*/p(h),R=/*#__PURE__*/p(d),C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function k(e){var t={exports:{}};return e(t,t.exports),t.exports}var T=k(function(e){const t="Hyper"===process.env.TERM_PROGRAM,i="win32"===process.platform,s="linux"===process.platform,r={ballotDisabled:"‚òí",ballotOff:"‚òê",ballotOn:"‚òë",bullet:"‚Ä¢",bulletWhite:"‚ó¶",fullBlock:"‚ñà",heart:"‚ù§",identicalTo:"‚â°",line:"‚îÄ",mark:"‚Äª",middot:"¬∑",minus:"Ôºç",multiplication:"√ó",obelus:"√∑",pencilDownRight:"‚úé",pencilRight:"‚úè",pencilUpRight:"‚úê",percent:"%",pilcrow2:"‚ù°",pilcrow:"¬∂",plusMinus:"¬±",section:"¬ß",starsOff:"‚òÜ",starsOn:"‚òÖ",upDownArrow:"‚Üï"},n=Object.assign({},r,{check:"‚àö",cross:"√ó",ellipsisLarge:"...",ellipsis:"...",info:"i",question:"?",questionSmall:"?",pointer:">",pointerSmall:"¬ª",radioOff:"( )",radioOn:"(*)",warning:"‚Äº"}),o=Object.assign({},r,{ballotCross:"‚úò",check:"‚úî",cross:"‚úñ",ellipsisLarge:"‚ãØ",ellipsis:"‚Ä¶",info:"‚Ñπ",question:"?",questionFull:"Ôºü",questionSmall:"Ôπñ",pointer:s?"‚ñ∏":"‚ùØ",pointerSmall:s?"‚Ä£":"‚Ä∫",radioOff:"‚óØ",radioOn:"‚óâ",warning:"‚ö†"});e.exports=i&&!t?n:o,Reflect.defineProperty(e.exports,"common",{enumerable:!1,value:r}),Reflect.defineProperty(e.exports,"windows",{enumerable:!1,value:n}),Reflect.defineProperty(e.exports,"other",{enumerable:!1,value:o})});const A=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,P=()=>{const e={enabled:!0,visible:!0,styles:{},keys:{}};"FORCE_COLOR"in process.env&&(e.enabled="0"!==process.env.FORCE_COLOR);const t=(e,t,i)=>"function"==typeof e?e(t):e.wrap(t,i),i=(i,s)=>{if(""===i||null==i)return"";if(!1===e.enabled)return i;if(!1===e.visible)return"";let r=""+i,n=r.includes("\n"),o=s.length;for(o>0&&s.includes("unstyle")&&(s=[...new Set(["unstyle",...s])].reverse());o-- >0;)r=t(e.styles[s[o]],r,n);return r},s=(t,s,r)=>{e.styles[t]=(e=>{let t=e.open=`[${e.codes[0]}m`,i=e.close=`[${e.codes[1]}m`,s=e.regex=new RegExp(`\\u001b\\[${e.codes[1]}m`,"g");return e.wrap=(e,r)=>{e.includes(i)&&(e=e.replace(s,i+t));let n=t+e+i;return r?n.replace(/\r*\n/g,`${i}$&${t}`):n},e})({name:t,codes:s}),(e.keys[r]||(e.keys[r]=[])).push(t),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(i){e.alias(t,i)},get(){let s=e=>i(e,s.stack);return Reflect.setPrototypeOf(s,e),s.stack=this.stack?this.stack.concat(t):[t],s}})};return s("reset",[0,0],"modifier"),s("bold",[1,22],"modifier"),s("dim",[2,22],"modifier"),s("italic",[3,23],"modifier"),s("underline",[4,24],"modifier"),s("inverse",[7,27],"modifier"),s("hidden",[8,28],"modifier"),s("strikethrough",[9,29],"modifier"),s("black",[30,39],"color"),s("red",[31,39],"color"),s("green",[32,39],"color"),s("yellow",[33,39],"color"),s("blue",[34,39],"color"),s("magenta",[35,39],"color"),s("cyan",[36,39],"color"),s("white",[37,39],"color"),s("gray",[90,39],"color"),s("grey",[90,39],"color"),s("bgBlack",[40,49],"bg"),s("bgRed",[41,49],"bg"),s("bgGreen",[42,49],"bg"),s("bgYellow",[43,49],"bg"),s("bgBlue",[44,49],"bg"),s("bgMagenta",[45,49],"bg"),s("bgCyan",[46,49],"bg"),s("bgWhite",[47,49],"bg"),s("blackBright",[90,39],"bright"),s("redBright",[91,39],"bright"),s("greenBright",[92,39],"bright"),s("yellowBright",[93,39],"bright"),s("blueBright",[94,39],"bright"),s("magentaBright",[95,39],"bright"),s("cyanBright",[96,39],"bright"),s("whiteBright",[97,39],"bright"),s("bgBlackBright",[100,49],"bgBright"),s("bgRedBright",[101,49],"bgBright"),s("bgGreenBright",[102,49],"bgBright"),s("bgYellowBright",[103,49],"bgBright"),s("bgBlueBright",[104,49],"bgBright"),s("bgMagentaBright",[105,49],"bgBright"),s("bgCyanBright",[106,49],"bgBright"),s("bgWhiteBright",[107,49],"bgBright"),e.ansiRegex=A,e.hasColor=e.hasAnsi=t=>(e.ansiRegex.lastIndex=0,"string"==typeof t&&""!==t&&e.ansiRegex.test(t)),e.alias=(t,s)=>{let r="string"==typeof s?e[s]:s;if("function"!=typeof r)throw new TypeError("Expected alias to be the name of an existing color (string) or a function");r.stack||(Reflect.defineProperty(r,"name",{value:t}),e.styles[t]=r,r.stack=[t]),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(i){e.alias(t,i)},get(){let t=e=>i(e,t.stack);return Reflect.setPrototypeOf(t,e),t.stack=this.stack?this.stack.concat(r.stack):r.stack,t}})},e.theme=t=>{if(null===(i=t)||"object"!=typeof i||Array.isArray(i))throw new TypeError("Expected theme to be an object");var i;for(let i of Object.keys(t))e.alias(i,t[i]);return e},e.alias("unstyle",t=>"string"==typeof t&&""!==t?(e.ansiRegex.lastIndex=0,t.replace(e.ansiRegex,"")):""),e.alias("noop",e=>e),e.none=e.clear=e.noop,e.stripColor=e.unstyle,e.symbols=T,e.define=s,e};var N=P();N.create=P;var L=k(function(e,t){const i=Object.prototype.toString;let s=!1,r=[];const n={yellow:"blue",cyan:"red",green:"magenta",black:"white",blue:"yellow",red:"cyan",magenta:"green",white:"black"};t.longest=(e,t)=>e.reduce((e,i)=>Math.max(e,t?i[t].length:i.length),0),t.hasColor=e=>!!e&&N.hasColor(e);const o=t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e);t.nativeType=e=>i.call(e).slice(8,-1).toLowerCase().replace(/\s/g,""),t.isAsyncFn=e=>"asyncfunction"===t.nativeType(e),t.isPrimitive=e=>null!=e&&"object"!=typeof e&&"function"!=typeof e,t.resolve=(e,t,...i)=>"function"==typeof t?t.call(e,...i):t,t.scrollDown=(e=[])=>[...e.slice(1),e[0]],t.scrollUp=(e=[])=>[e.pop(),...e],t.reorder=(e=[])=>{let t=e.slice();return t.sort((e,t)=>e.index>t.index?1:e.index<t.index?-1:0),t},t.swap=(e,t,i)=>{let s=e.length,r=i===s?0:i<0?s-1:i,n=e[t];e[t]=e[r],e[r]=n},t.width=(e,t=80)=>{let i=e&&e.columns?e.columns:t;return e&&"function"==typeof e.getWindowSize&&(i=e.getWindowSize()[0]),"win32"===process.platform?i-1:i},t.height=(e,t=20)=>{let i=e&&e.rows?e.rows:t;return e&&"function"==typeof e.getWindowSize&&(i=e.getWindowSize()[1]),i},t.wordWrap=(e,t={})=>{if(!e)return e;"number"==typeof t&&(t={width:t});let{indent:i="",newline:s="\n"+i,width:r=80}=t,n=(s+i).match(/[^\S\n]/g)||[];r-=n.length;let o=`.{1,${r}}([\\s\\u200B]+|$)|[^\\s\\u200B]+?([\\s\\u200B]+|$)`,a=e.trim(),l=new RegExp(o,"g"),c=a.match(l)||[];return c=c.map(e=>e.replace(/\n$/,"")),t.padEnd&&(c=c.map(e=>e.padEnd(r," "))),t.padStart&&(c=c.map(e=>e.padStart(r," "))),i+c.join(s)},t.unmute=e=>{let t=e.stack.find(e=>N.keys.color.includes(e));return t?N[t]:e.stack.find(e=>"bg"===e.slice(2))?N[t.slice(2)]:e=>e},t.pascal=e=>e?e[0].toUpperCase()+e.slice(1):"",t.inverse=e=>{if(!e||!e.stack)return e;let i=e.stack.find(e=>N.keys.color.includes(e));if(i){let s=N["bg"+t.pascal(i)];return s?s.black:e}let s=e.stack.find(e=>"bg"===e.slice(0,2));return s?N[s.slice(2).toLowerCase()]||e:N.none},t.complement=e=>{if(!e||!e.stack)return e;let i=e.stack.find(e=>N.keys.color.includes(e)),s=e.stack.find(e=>"bg"===e.slice(0,2));if(i&&!s)return N[n[i]||i];if(s){let i=s.slice(2).toLowerCase(),r=n[i];return r&&N["bg"+t.pascal(r)]||e}return N.none},t.meridiem=e=>{let t=e.getHours(),i=e.getMinutes(),s=t>=12?"pm":"am";return t%=12,(0===t?12:t)+":"+(i<10?"0"+i:i)+" "+s},t.set=(e={},i="",s)=>i.split(".").reduce((e,i,r,n)=>{let o=n.length-1>r?e[i]||{}:s;return!t.isObject(o)&&r<n.length-1&&(o={}),e[i]=o},e),t.get=(e={},t="",i)=>{let s=null==e[t]?t.split(".").reduce((e,t)=>e&&e[t],e):e[t];return null==s?i:s},t.mixin=(e,i)=>{if(!o(e))return i;if(!o(i))return e;for(let s of Object.keys(i)){let r=Object.getOwnPropertyDescriptor(i,s);if(r.hasOwnProperty("value"))if(e.hasOwnProperty(s)&&o(r.value)){let n=Object.getOwnPropertyDescriptor(e,s);o(n.value)?e[s]=t.merge({},e[s],i[s]):Reflect.defineProperty(e,s,r)}else Reflect.defineProperty(e,s,r);else Reflect.defineProperty(e,s,r)}return e},t.merge=(...e)=>{let i={};for(let s of e)t.mixin(i,s);return i},t.mixinEmitter=(e,i)=>{let s=i.constructor.prototype;for(let r of Object.keys(s)){let n=s[r];t.define(e,r,"function"==typeof n?n.bind(i):n)}},t.onExit=e=>{const t=(e,t)=>{s||(s=!0,r.forEach(e=>e()),!0===e&&process.exit(128+t))};0===r.length&&(process.once("SIGTERM",t.bind(null,!0,15)),process.once("SIGINT",t.bind(null,!0,2)),process.once("exit",t)),r.push(e)},t.define=(e,t,i)=>{Reflect.defineProperty(e,t,{value:i})},t.defineExport=(e,t,i)=>{let s;Reflect.defineProperty(e,t,{enumerable:!0,configurable:!0,set(e){s=e},get:()=>s?s():i()})}}),j={ctrl:{a:"first",b:"backward",c:"cancel",d:"deleteForward",e:"last",f:"forward",g:"reset",i:"tab",k:"cutForward",l:"reset",n:"newItem",m:"cancel",j:"submit",p:"search",r:"remove",s:"save",u:"undo",w:"cutLeft",x:"toggleCursor",v:"paste"},shift:{up:"shiftUp",down:"shiftDown",left:"shiftLeft",right:"shiftRight",tab:"prev"},fn:{up:"pageUp",down:"pageDown",left:"pageLeft",right:"pageRight",delete:"deleteForward"},option:{b:"backward",f:"forward",d:"cutRight",left:"cutLeft",up:"altUp",down:"altDown"},keys:{pageup:"pageUp",pagedown:"pageDown",home:"home",end:"end",cancel:"cancel",delete:"deleteForward",backspace:"delete",down:"down",enter:"submit",escape:"cancel",left:"left",space:"space",number:"number",return:"submit",right:"right",tab:"next",up:"up"}};const $=/^(?:\x1b)([a-zA-Z0-9])$/,D=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,_={OP:"f1",OQ:"f2",OR:"f3",OS:"f4","[11~":"f1","[12~":"f2","[13~":"f3","[14~":"f4","[[A":"f1","[[B":"f2","[[C":"f3","[[D":"f4","[[E":"f5","[15~":"f5","[17~":"f6","[18~":"f7","[19~":"f8","[20~":"f9","[21~":"f10","[23~":"f11","[24~":"f12","[A":"up","[B":"down","[C":"right","[D":"left","[E":"clear","[F":"end","[H":"home",OA:"up",OB:"down",OC:"right",OD:"left",OE:"clear",OF:"end",OH:"home","[1~":"home","[2~":"insert","[3~":"delete","[4~":"end","[5~":"pageup","[6~":"pagedown","[[5~":"pageup","[[6~":"pagedown","[7~":"home","[8~":"end","[a":"up","[b":"down","[c":"right","[d":"left","[e":"clear","[2$":"insert","[3$":"delete","[5$":"pageup","[6$":"pagedown","[7$":"home","[8$":"end",Oa:"up",Ob:"down",Oc:"right",Od:"left",Oe:"clear","[2^":"insert","[3^":"delete","[5^":"pageup","[6^":"pagedown","[7^":"home","[8^":"end","[Z":"tab"},F=(e="",t={})=>{let i,s={name:t.name,ctrl:!1,meta:!1,shift:!1,option:!1,sequence:e,raw:e,...t};if(Buffer.isBuffer(e)?e[0]>127&&void 0===e[1]?(e[0]-=128,e=""+String(e)):e=String(e):void 0!==e&&"string"!=typeof e?e=String(e):e||(e=s.sequence||""),s.sequence=s.sequence||e||s.name,"\r"===e)s.raw=void 0,s.name="return";else if("\n"===e)s.name="enter";else if("\t"===e)s.name="tab";else if("\b"===e||""===e||""===e||"\b"===e)s.name="backspace",s.meta=""===e.charAt(0);else if(""===e||""===e)s.name="escape",s.meta=2===e.length;else if(" "===e||" "===e)s.name="space",s.meta=2===e.length;else if(e<="")s.name=String.fromCharCode(e.charCodeAt(0)+"a".charCodeAt(0)-1),s.ctrl=!0;else if(1===e.length&&e>="0"&&e<="9")s.name="number";else if(1===e.length&&e>="a"&&e<="z")s.name=e;else if(1===e.length&&e>="A"&&e<="Z")s.name=e.toLowerCase(),s.shift=!0;else if(i=$.exec(e))s.meta=!0,s.shift=/^[A-Z]$/.test(i[1]);else if(i=D.exec(e)){let t=[...e];""===t[0]&&""===t[1]&&(s.option=!0);let r=[i[1],i[2],i[4],i[6]].filter(Boolean).join(""),n=(i[3]||i[5]||1)-1;s.ctrl=!!(4&n),s.meta=!!(10&n),s.shift=!!(1&n),s.code=r,s.name=_[r],s.shift=function(e){return["[a","[b","[c","[d","[e","[2$","[3$","[5$","[6$","[7$","[8$","[Z"].includes(e)}(r)||s.shift,s.ctrl=function(e){return["Oa","Ob","Oc","Od","Oe","[2^","[3^","[5^","[6^","[7^","[8^"].includes(e)}(r)||s.ctrl}return s};F.listen=(e={},t)=>{let{stdin:i}=e;if(!i||i!==process.stdin&&!i.isTTY)throw new Error("Invalid stream passed");let s=y.default.createInterface({terminal:!0,input:i});y.default.emitKeypressEvents(i,s);let r=(e,i)=>t(e,F(e,i),s),n=i.isRaw;return i.isTTY&&i.setRawMode(!0),i.on("keypress",r),s.resume(),()=>{i.isTTY&&i.setRawMode(n),i.removeListener("keypress",r),s.pause(),s.close()}},F.action=(e,t,i)=>{let s={...j,...i};return t.ctrl?(t.action=s.ctrl[t.name],t):t.option&&s.option?(t.action=s.option[t.name],t):t.shift?(t.action=s.shift[t.name],t):(t.action=s.keys[t.name],t)};var M=F;function G(e,t,i={}){let s=e.timers[t]={name:t,start:Date.now(),ms:0,tick:0},r=i.interval||120;s.frames=i.frames||[],s.loading=!0;let n=setInterval(()=>{s.ms=Date.now()-s.start,s.tick++,e.render()},r);return s.stop=()=>{s.loading=!1,clearInterval(n)},Reflect.defineProperty(s,"interval",{value:n}),e.once("close",()=>s.stop()),s.stop}const{define:B,width:U}=L,q={default:N.noop,noop:N.noop,set inverse(e){this._inverse=e},get inverse(){return this._inverse||L.inverse(this.primary)},set complement(e){this._complement=e},get complement(){return this._complement||L.complement(this.primary)},primary:N.cyan,success:N.green,danger:N.magenta,strong:N.bold,warning:N.yellow,muted:N.dim,disabled:N.gray,dark:N.dim.gray,underline:N.underline,set info(e){this._info=e},get info(){return this._info||this.primary},set em(e){this._em=e},get em(){return this._em||this.primary.underline},set heading(e){this._heading=e},get heading(){return this._heading||this.muted.underline},set pending(e){this._pending=e},get pending(){return this._pending||this.primary},set submitted(e){this._submitted=e},get submitted(){return this._submitted||this.success},set cancelled(e){this._cancelled=e},get cancelled(){return this._cancelled||this.danger},set typing(e){this._typing=e},get typing(){return this._typing||this.dim},set placeholder(e){this._placeholder=e},get placeholder(){return this._placeholder||this.primary.dim},set highlight(e){this._highlight=e},get highlight(){return this._highlight||this.inverse},merge:(e={})=>{e.styles&&"boolean"==typeof e.styles.enabled&&(N.enabled=e.styles.enabled),e.styles&&"boolean"==typeof e.styles.visible&&(N.visible=e.styles.visible);let t=L.merge({},q,e.styles);delete t.merge;for(let e of Object.keys(N))t.hasOwnProperty(e)||Reflect.defineProperty(t,e,{get:()=>N[e]});for(let e of Object.keys(N.styles))t.hasOwnProperty(e)||Reflect.defineProperty(t,e,{get:()=>N[e]});return t}};var H=q;const V="win32"===process.platform,W={...N.symbols,upDownDoubleArrow:"‚áï",upDownDoubleArrow2:"‚¨ç",upDownArrow:"‚Üï",asterisk:"*",asterism:"‚ÅÇ",bulletWhite:"‚ó¶",electricArrow:"‚åÅ",ellipsisLarge:"‚ãØ",ellipsisSmall:"‚Ä¶",fullBlock:"‚ñà",identicalTo:"‚â°",indicator:N.symbols.check,leftAngle:"‚Äπ",mark:"‚Äª",minus:"‚àí",multiplication:"√ó",obelus:"√∑",percent:"%",pilcrow:"¬∂",pilcrow2:"‚ù°",pencilUpRight:"‚úê",pencilDownRight:"‚úé",pencilRight:"‚úè",plus:"+",plusMinus:"¬±",pointRight:"‚òû",rightAngle:"‚Ä∫",section:"¬ß",hexagon:{off:"‚¨°",on:"‚¨¢",disabled:"‚¨¢"},ballot:{on:"‚òë",off:"‚òê",disabled:"‚òí"},stars:{on:"‚òÖ",off:"‚òÜ",disabled:"‚òÜ"},folder:{on:"‚ñº",off:"‚ñ∂",disabled:"‚ñ∂"},prefix:{pending:N.symbols.question,submitted:N.symbols.check,cancelled:N.symbols.cross},separator:{pending:N.symbols.pointerSmall,submitted:N.symbols.middot,cancelled:N.symbols.middot},radio:{off:V?"( )":"‚óØ",on:V?"(*)":"‚óâ",disabled:V?"(|)":"‚íæ"},numbers:["‚ì™","‚ë†","‚ë°","‚ë¢","‚ë£","‚ë§","‚ë•","‚ë¶","‚ëß","‚ë®","‚ë©","‚ë™","‚ë´","‚ë¨","‚ë≠","‚ëÆ","‚ëØ","‚ë∞","‚ë±","‚ë≤","‚ë≥","„âë","„âí","„âì","„âî","„âï","„âñ","„âó","„âò","„âô","„âö","„âõ","„âú","„âù","„âû","„âü","„ä±","„ä≤","„ä≥","„ä¥","„äµ","„ä∂","„ä∑","„ä∏","„äπ","„ä∫","„äª","„äº","„äΩ","„äæ","„äø"]};W.merge=e=>{let t=L.merge({},N.symbols,W,e.symbols);return delete t.merge,t};var z=W,X=k(function(e,t){const i="Apple_Terminal"===process.env.TERM_PROGRAM,s=e.exports=t,r="[";let n=!1;const o=s.code={bell:"",beep:"",beginning:`${r}G`,down:`${r}J`,esc:r,getPosition:`${r}6n`,hide:`${r}?25l`,line:`${r}2K`,lineEnd:`${r}K`,lineStart:`${r}1K`,restorePosition:r+(i?"8":"u"),savePosition:r+(i?"7":"s"),screen:`${r}2J`,show:`${r}?25h`,up:`${r}1J`},a=s.cursor={get hidden(){return n},hide:()=>(n=!0,o.hide),show:()=>(n=!1,o.show),forward:(e=1)=>`${r}${e}C`,backward:(e=1)=>`${r}${e}D`,nextLine:(e=1)=>`${r}E`.repeat(e),prevLine:(e=1)=>`${r}F`.repeat(e),up:(e=1)=>e?`${r}${e}A`:"",down:(e=1)=>e?`${r}${e}B`:"",right:(e=1)=>e?`${r}${e}C`:"",left:(e=1)=>e?`${r}${e}D`:"",to:(e,t)=>t?`${r}${t+1};${e+1}H`:`${r}${e+1}G`,move(e=0,t=0){let i="";return i+=e<0?a.left(-e):e>0?a.right(e):"",i+=t<0?a.up(-t):t>0?a.down(t):"",i},restore(e={}){let{after:t,cursor:i,initial:r,input:n,prompt:o,size:a,value:l}=e;if(r=L.isPrimitive(r)?String(r):"",n=L.isPrimitive(n)?String(n):"",l=L.isPrimitive(l)?String(l):"",a){let e=s.cursor.up(a)+s.cursor.to(o.length),t=n.length-i;return t>0&&(e+=s.cursor.left(t)),e}if(l||t){let e=!n&&r?-r.length:-n.length+i;return t&&(e-=t.length),""===n&&r&&!o.includes(r)&&(e+=r.length),s.cursor.move(e)}}},l=s.erase={screen:o.screen,up:o.up,down:o.down,line:o.line,lineEnd:o.lineEnd,lineStart:o.lineStart,lines(e){let t="";for(let i=0;i<e;i++)t+=s.erase.line+(i<e-1?s.cursor.up(1):"");return e&&(t+=s.code.beginning),t}};s.clear=(e="",t=process.stdout.columns)=>{if(!t)return l.line+a.to(0);let i=e.split(/\r?\n/),s=0;for(let e of i)s+=1+Math.floor(Math.max([...N.unstyle(e)].length-1,0)/t);return(l.line+a.prevLine()).repeat(s-1)+l.line+a.to(0)}});class Y extends m.default{constructor(e={}){super(),this.name=e.name,this.type=e.type,this.options=e,(e=>{e.options=L.merge({},e.options.theme,e.options),e.symbols=z.merge(e.options),e.styles=H.merge(e.options)})(this),(e=>{e.timers=e.timers||{};let t=e.options.timers;if(t)for(let i of Object.keys(t)){let s=t[i];"number"==typeof s&&(s={interval:s}),G(e,i,s)}})(this),this.state=new class{constructor(e){let t=e.options;B(this,"_prompt",e),this.type=e.type,this.name=e.name,this.message="",this.header="",this.footer="",this.error="",this.hint="",this.input="",this.cursor=0,this.index=0,this.lines=0,this.tick=0,this.prompt="",this.buffer="",this.width=U(t.stdout||process.stdout),Object.assign(this,t),this.name=this.name||this.message,this.message=this.message||this.name,this.symbols=e.symbols,this.styles=e.styles,this.required=new Set,this.cancelled=!1,this.submitted=!1}clone(){let e={...this};return e.status=this.status,e.buffer=Buffer.from(e.buffer),delete e.clone,e}set color(e){this._color=e}get color(){let e=this.prompt.styles;if(this.cancelled)return e.cancelled;if(this.submitted)return e.submitted;let t=this._color||e[this.status];return"function"==typeof t?t:e.pending}set loading(e){this._loading=e}get loading(){return"boolean"==typeof this._loading?this._loading:!!this.loadingChoices&&"choices"}get status(){return this.cancelled?"cancelled":this.submitted?"submitted":"pending"}}(this),this.initial=[e.initial,e.default].find(e=>null!=e),this.stdout=e.stdout||process.stdout,this.stdin=e.stdin||process.stdin,this.scale=e.scale||1,this.term=this.options.term||process.env.TERM_PROGRAM,this.margin=function(e){"number"==typeof e&&(e=[e,e,e,e]);let t=[].concat(e||[]),i=e=>e%2==0?"\n":" ",s=[];for(let e=0;e<4;e++){let r=i(e);s.push(t[e]?r.repeat(t[e]):"")}return s}(this.options.margin),this.setMaxListeners(0),function(e){let t=t=>void 0===e[t]||"function"==typeof e[t],i=["actions","choices","initial","margin","roles","styles","symbols","theme","timers","value"],s=["body","footer","error","header","hint","indicator","message","prefix","separator","skip"];for(let r of Object.keys(e.options)){if(i.includes(r))continue;if(/^on[A-Z]/.test(r))continue;let n=e.options[r];"function"==typeof n&&t(r)?s.includes(r)||(e[r]=n.bind(e)):"function"!=typeof e[r]&&(e[r]=n)}}(this)}async keypress(e,t={}){this.keypressed=!0;let i=M.action(e,M(e,t),this.options.actions);this.state.keypress=i,this.emit("keypress",e,i),this.emit("state",this.state.clone());let s=this.options[i.action]||this[i.action]||this.dispatch;if("function"==typeof s)return await s.call(this,e,i);this.alert()}alert(){delete this.state.alert,!1===this.options.show?this.emit("alert"):this.stdout.write(X.code.beep)}cursorHide(){this.stdout.write(X.cursor.hide()),L.onExit(()=>this.cursorShow())}cursorShow(){this.stdout.write(X.cursor.show())}write(e){e&&(this.stdout&&!1!==this.state.show&&this.stdout.write(e),this.state.buffer+=e)}clear(e=0){let t=this.state.buffer;this.state.buffer="",(t||e)&&!1!==this.options.show&&this.stdout.write(X.cursor.down(e)+X.clear(t,this.width))}restore(){if(this.state.closed||!1===this.options.show)return;let{prompt:e,after:t,rest:i}=this.sections(),{cursor:s,initial:r="",input:n="",value:o=""}=this,a=this.state.size=i.length,l=X.cursor.restore({after:t,cursor:s,initial:r,input:n,prompt:e,size:a,value:o});l&&this.stdout.write(l)}sections(){let{buffer:e,input:t,prompt:i}=this.state;i=N.unstyle(i);let s=N.unstyle(e),r=s.indexOf(i),n=s.slice(0,r),o=s.slice(r).split("\n"),a=o[0],l=o[o.length-1],c=(i+(t?" "+t:"")).length,u=c<a.length?a.slice(c+1):"";return{header:n,prompt:a,after:u,rest:o.slice(1),last:l}}async submit(){this.state.submitted=!0,this.state.validating=!0,this.options.onSubmit&&await this.options.onSubmit.call(this,this.name,this.value,this);let e=this.state.error||await this.validate(this.value,this.state);if(!0!==e){let t="\n"+this.symbols.pointer+" ";return t+="string"==typeof e?e.trim():"Invalid input",this.state.error="\n"+this.styles.danger(t),this.state.submitted=!1,await this.render(),await this.alert(),this.state.validating=!1,void(this.state.error=void 0)}this.state.validating=!1,await this.render(),await this.close(),this.value=await this.result(this.value),this.emit("submit",this.value)}async cancel(e){this.state.cancelled=this.state.submitted=!0,await this.render(),await this.close(),"function"==typeof this.options.onCancel&&await this.options.onCancel.call(this,this.name,this.value,this),this.emit("cancel",await this.error(e))}async close(){this.state.closed=!0;try{let e=this.sections(),t=Math.ceil(e.prompt.length/this.width);e.rest&&this.write(X.cursor.down(e.rest.length)),this.write("\n".repeat(t))}catch(e){}this.emit("close")}start(){this.stop||!1===this.options.show||(this.stop=M.listen(this,this.keypress.bind(this)),this.once("close",this.stop))}async skip(){return this.skipped=!0===this.options.skip,"function"==typeof this.options.skip&&(this.skipped=await this.options.skip.call(this,this.name,this.value)),this.skipped}async initialize(){let{format:e,options:t,result:i}=this;if(this.format=()=>e.call(this,this.value),this.result=()=>i.call(this,this.value),"function"==typeof t.initial&&(this.initial=await t.initial.call(this,this)),"function"==typeof t.onRun&&await t.onRun.call(this,this),"function"==typeof t.onSubmit){let e=t.onSubmit.bind(this),i=this.submit.bind(this);delete this.options.onSubmit,this.submit=async()=>(await e(this.name,this.value,this),i())}await this.start(),await this.render()}render(){throw new Error("expected prompt to have a custom render method")}run(){return new Promise(async(e,t)=>{if(this.once("submit",e),this.once("cancel",t),await this.skip())return this.render=()=>{},this.submit();await this.initialize(),this.emit("run")})}async element(e,t,i){let{options:s,state:r,symbols:n,timers:o}=this;r.timer=o&&o[e];let a=s[e]||r[e]||n[e],l=t&&null!=t[e]?t[e]:await a;if(""===l)return l;let c=await this.resolve(l,r,t,i);return!c&&t&&t[e]?this.resolve(a,r,t,i):c}async prefix(){let e=await this.element("prefix")||this.symbols,t=this.state;return t.timer=this.timers&&this.timers.prefix,L.isObject(e)&&(e=e[t.status]||e.pending),L.hasColor(e)?e:(this.styles[t.status]||this.styles.pending)(e)}async message(){let e=await this.element("message");return L.hasColor(e)?e:this.styles.strong(e)}async separator(){let e=await this.element("separator")||this.symbols,t=this.state;t.timer=this.timers&&this.timers.separator;let i=e[t.status]||e.pending||t.separator,s=await this.resolve(i,t);return L.isObject(s)&&(s=s[t.status]||s.pending),L.hasColor(s)?s:this.styles.muted(s)}async pointer(e,t){let i=await this.element("pointer",e,t);if("string"==typeof i&&L.hasColor(i))return i;if(i){let e=this.index===t,s=e?this.styles.primary:e=>e,r=await this.resolve(i[e?"on":"off"]||i,this.state),n=L.hasColor(r)?r:s(r);return e?n:" ".repeat(r.length)}}async indicator(e,t){let i=await this.element("indicator",e,t);if("string"==typeof i&&L.hasColor(i))return i;if(i){let t=this.styles,s=!0===e.enabled,r=s?t.success:t.dark,n=i[s?"on":"off"]||i;return L.hasColor(n)?n:r(n)}return""}body(){return null}footer(){if("pending"===this.state.status)return this.element("footer")}header(){if("pending"===this.state.status)return this.element("header")}async hint(){if("pending"===this.state.status&&!this.isValue(this.state.input)){let e=await this.element("hint");return L.hasColor(e)?e:this.styles.muted(e)}}error(e){return this.state.submitted?"":e||this.state.error}format(e){return e}result(e){return e}validate(e){return!0!==this.options.required||this.isValue(e)}isValue(e){return null!=e&&""!==e}resolve(e,...t){return L.resolve(this,e,...t)}get base(){return Y.prototype}get style(){return this.styles[this.state.status]}get height(){return this.options.rows||L.height(this.stdout,25)}get width(){return this.options.columns||L.width(this.stdout,80)}get size(){return{width:this.width,height:this.height}}set cursor(e){this.state.cursor=e}get cursor(){return this.state.cursor}set input(e){this.state.input=e}get input(){return this.state.input}set value(e){this.state.value=e}get value(){let{input:e,value:t}=this.state,i=[t,e].find(this.isValue.bind(this));return this.isValue(i)?i:this.initial}static get prompt(){return e=>new this(e).run()}}var K=Y;const J={default:(e,t)=>t,checkbox(e,t){throw new Error("checkbox role is not implemented yet")},editable(e,t){throw new Error("editable role is not implemented yet")},expandable(e,t){throw new Error("expandable role is not implemented yet")},heading:(e,t)=>(t.disabled="",t.indicator=[t.indicator," "].find(e=>null!=e),t.message=t.message||"",t),input(e,t){throw new Error("input role is not implemented yet")},option:(e,t)=>J.default(e,t),radio(e,t){throw new Error("radio role is not implemented yet")},separator:(e,t)=>(t.disabled="",t.indicator=[t.indicator," "].find(e=>null!=e),t.message=t.message||e.symbols.line.repeat(5),t),spacer:(e,t)=>t},{reorder:Z,scrollUp:Q,scrollDown:ee,isObject:te,swap:ie}=L;function se(e,t){if(t instanceof Promise)return t;if("function"==typeof t){if(L.isAsyncFn(t))return t;t=t.call(e,e)}for(let i of t){if(Array.isArray(i.choices)){let t=i.choices.filter(t=>!e.isDisabled(t));i.enabled=t.every(e=>!0===e.enabled)}!0===e.isDisabled(i)&&delete i.enabled}return t}var re=class extends K{constructor(e){super(e),this.cursorHide(),this.maxSelected=e.maxSelected||Infinity,this.multiple=e.multiple||!1,this.initial=e.initial||0,this.delay=e.delay||0,this.longest=0,this.num=""}async initialize(){"function"==typeof this.options.initial&&(this.initial=await this.options.initial.call(this)),await this.reset(!0),await super.initialize()}async reset(){let{choices:e,initial:t,autofocus:i,suggest:s}=this.options;if(this.state._choices=[],this.state.choices=[],this.choices=await Promise.all(await this.toChoices(e)),this.choices.forEach(e=>e.enabled=!1),"function"!=typeof s&&0===this.selectable.length)throw new Error("At least one choice must be selectable");te(t)&&(t=Object.keys(t)),Array.isArray(t)?(null!=i&&(this.index=this.findIndex(i)),t.forEach(e=>this.enable(this.find(e))),await this.render()):(null!=i&&(t=i),"string"==typeof t&&(t=this.findIndex(t)),"number"==typeof t&&t>-1&&(this.index=Math.max(0,Math.min(t,this.choices.length)),this.enable(this.find(this.index)))),this.isDisabled(this.focused)&&await this.down()}async toChoices(e,t){this.state.loadingChoices=!0;let i=[],s=0,r=async(e,t)=>{"function"==typeof e&&(e=await e.call(this)),e instanceof Promise&&(e=await e);for(let n=0;n<e.length;n++){let o=e[n]=await this.toChoice(e[n],s++,t);i.push(o),o.choices&&await r(o.choices,o)}return i};return r(e,t).then(e=>(this.state.loadingChoices=!1,e))}async toChoice(e,t,i){if("function"==typeof e&&(e=await e.call(this,this)),e instanceof Promise&&(e=await e),"string"==typeof e&&(e={name:e}),e.normalized)return e;e.normalized=!0;let s=e.value,r=((e,t={})=>{let i=L.merge({},J,t.roles);return i[e]||i.default})(e.role,this.options);if("string"!=typeof(e=r(this,e)).disabled||e.hint||(e.hint=e.disabled,e.disabled=!0),!0===e.disabled&&null==e.hint&&(e.hint="(disabled)"),null!=e.index)return e;e.name=e.name||e.key||e.title||e.value||e.message,e.message=e.message||e.name||"",e.value=[e.value,e.name].find(this.isValue.bind(this)),e.input="",e.index=t,e.cursor=0,L.define(e,"parent",i),e.level=i?i.level+1:1,null==e.indent&&(e.indent=i?i.indent+"  ":e.indent||""),e.path=i?i.path+"."+e.name:e.name,e.enabled=!(!this.multiple||this.isDisabled(e)||!e.enabled&&!this.isSelected(e)),this.isDisabled(e)||(this.longest=Math.max(this.longest,N.unstyle(e.message).length));let n={...e};return e.reset=(t=n.input,i=n.value)=>{for(let t of Object.keys(n))e[t]=n[t];e.input=t,e.value=i},null==s&&"function"==typeof e.initial&&(e.input=await e.initial.call(this,this.state,e,t)),e}async onChoice(e,t){this.emit("choice",e,t,this),"function"==typeof e.onChoice&&await e.onChoice.call(this,this.state,e,t)}async addChoice(e,t,i){let s=await this.toChoice(e,t,i);return this.choices.push(s),this.index=this.choices.length-1,this.limit=this.choices.length,s}async newItem(e,t,i){let s={name:"New choice name?",editable:!0,newChoice:!0,...e},r=await this.addChoice(s,t,i);return r.updateChoice=()=>{delete r.newChoice,r.name=r.message=r.input,r.input="",r.cursor=0},this.render()}indent(e){return null==e.indent?e.level>1?"  ".repeat(e.level-1):"":e.indent}dispatch(e,t){if(this.multiple&&this[t.name])return this[t.name]();this.alert()}focus(e,t){return"boolean"!=typeof t&&(t=e.enabled),t&&!e.enabled&&this.selected.length>=this.maxSelected?this.alert():(this.index=e.index,e.enabled=t&&!this.isDisabled(e),e)}space(){return this.multiple?(this.toggle(this.focused),this.render()):this.alert()}a(){if(this.maxSelected<this.choices.length)return this.alert();let e=this.selectable.every(e=>e.enabled);return this.choices.forEach(t=>t.enabled=!e),this.render()}i(){return this.choices.length-this.selected.length>this.maxSelected?this.alert():(this.choices.forEach(e=>e.enabled=!e.enabled),this.render())}g(e=this.focused){return this.choices.some(e=>!!e.parent)?(this.toggle(e.parent&&!e.choices?e.parent:e),this.render()):this.a()}toggle(e,t){if(!e.enabled&&this.selected.length>=this.maxSelected)return this.alert();"boolean"!=typeof t&&(t=!e.enabled),e.enabled=t,e.choices&&e.choices.forEach(e=>this.toggle(e,t));let i=e.parent;for(;i;){let e=i.choices.filter(e=>this.isDisabled(e));i.enabled=e.every(e=>!0===e.enabled),i=i.parent}return se(this,this.choices),this.emit("toggle",e,this),e}enable(e){return this.selected.length>=this.maxSelected?this.alert():(e.enabled=!this.isDisabled(e),e.choices&&e.choices.forEach(this.enable.bind(this)),e)}disable(e){return e.enabled=!1,e.choices&&e.choices.forEach(this.disable.bind(this)),e}number(e){this.num+=e;let t=e=>{let t=Number(e);if(t>this.choices.length-1)return this.alert();let i=this.focused,s=this.choices.find(e=>t===e.index);if(!s.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(-1===this.visible.indexOf(s)){let e=Z(this.choices),t=e.indexOf(s);if(i.index>t){let i=e.slice(t,t+this.limit),s=e.filter(e=>!i.includes(e));this.choices=i.concat(s)}else{let i=t-this.limit+1;this.choices=e.slice(i).concat(e.slice(0,i))}}return this.index=this.choices.indexOf(s),this.toggle(this.focused),this.render()};return clearTimeout(this.numberTimeout),new Promise(e=>{let i=this.choices.length,s=this.num,r=(i=!1,r)=>{clearTimeout(this.numberTimeout),i&&(r=t(s)),this.num="",e(r)};return"0"===s||1===s.length&&Number(s+"0")>i?r(!0):Number(s)>i?r(!1,this.alert()):void(this.numberTimeout=setTimeout(()=>r(!0),this.delay))})}home(){return this.choices=Z(this.choices),this.index=0,this.render()}end(){let e=this.choices.length-this.limit,t=Z(this.choices);return this.choices=t.slice(e).concat(t.slice(0,e)),this.index=this.limit-1,this.render()}first(){return this.index=0,this.render()}last(){return this.index=this.visible.length-1,this.render()}prev(){return this.visible.length<=1?this.alert():this.up()}next(){return this.visible.length<=1?this.alert():this.down()}right(){return this.cursor>=this.input.length?this.alert():(this.cursor++,this.render())}left(){return this.cursor<=0?this.alert():(this.cursor--,this.render())}up(){let e=this.choices.length,t=this.visible.length,i=this.index;return!1===this.options.scroll&&0===i?this.alert():e>t&&0===i?this.scrollUp():(this.index=(i-1%e+e)%e,this.isDisabled()?this.up():this.render())}down(){let e=this.choices.length,t=this.visible.length,i=this.index;return!1===this.options.scroll&&i===t-1?this.alert():e>t&&i===t-1?this.scrollDown():(this.index=(i+1)%e,this.isDisabled()?this.down():this.render())}scrollUp(e=0){return this.choices=Q(this.choices),this.index=e,this.isDisabled()?this.up():this.render()}scrollDown(e=this.visible.length-1){return this.choices=ee(this.choices),this.index=e,this.isDisabled()?this.down():this.render()}async shiftUp(){return!0===this.options.sort?(this.sorting=!0,this.swap(this.index-1),await this.up(),void(this.sorting=!1)):this.scrollUp(this.index)}async shiftDown(){return!0===this.options.sort?(this.sorting=!0,this.swap(this.index+1),await this.down(),void(this.sorting=!1)):this.scrollDown(this.index)}pageUp(){return this.visible.length<=1?this.alert():(this.limit=Math.max(this.limit-1,0),this.index=Math.min(this.limit-1,this.index),this._limit=this.limit,this.isDisabled()?this.up():this.render())}pageDown(){return this.visible.length>=this.choices.length?this.alert():(this.index=Math.max(0,this.index),this.limit=Math.min(this.limit+1,this.choices.length),this._limit=this.limit,this.isDisabled()?this.down():this.render())}swap(e){ie(this.choices,this.index,e)}isDisabled(e=this.focused){return!(!e||!["disabled","collapsed","hidden","completing","readonly"].some(t=>!0===e[t]))||e&&"heading"===e.role}isEnabled(e=this.focused){if(Array.isArray(e))return e.every(e=>this.isEnabled(e));if(e.choices){let t=e.choices.filter(e=>!this.isDisabled(e));return e.enabled&&t.every(e=>this.isEnabled(e))}return e.enabled&&!this.isDisabled(e)}isChoice(e,t){return e.name===t||e.index===Number(t)}isSelected(e){return Array.isArray(this.initial)?this.initial.some(t=>this.isChoice(e,t)):this.isChoice(e,this.initial)}map(e=[],t="value"){return[].concat(e||[]).reduce((e,i)=>(e[i]=this.find(i,t),e),{})}filter(e,t){let i=(this.options.multiple?this.state._choices:this.choices).filter("function"==typeof e?e:(t,i)=>[t.name,i].includes(e));return t?i.map(e=>e[t]):i}find(e,t){if(te(e))return t?e[t]:e;let i=this.choices.find("function"==typeof e?e:(t,i)=>[t.name,i].includes(e));return i?t?i[t]:i:void 0}findIndex(e){return this.choices.indexOf(this.find(e))}async submit(){let e=this.focused;if(!e)return this.alert();if(e.newChoice)return e.input?(e.updateChoice(),this.render()):this.alert();if(this.choices.some(e=>e.newChoice))return this.alert();let{reorder:t,sort:i}=this.options,s=!0===this.multiple,r=this.selected;return void 0===r?this.alert():(Array.isArray(r)&&!1!==t&&!0!==i&&(r=L.reorder(r)),this.value=s?r.map(e=>e.name):r.name,super.submit())}set choices(e=[]){this.state._choices=this.state._choices||[],this.state.choices=e;for(let t of e)this.state._choices.some(e=>e.name===t.name)||this.state._choices.push(t);if(!this._initial&&this.options.initial){this._initial=!0;let e=this.initial;if("string"==typeof e||"number"==typeof e){let t=this.find(e);t&&(this.initial=t.index,this.focus(t,!0))}}}get choices(){return se(this,this.state.choices||[])}set visible(e){this.state.visible=e}get visible(){return(this.state.visible||this.choices).slice(0,this.limit)}set limit(e){this.state.limit=e}get limit(){let{state:e,options:t,choices:i}=this;return Math.min(e.limit||this._limit||t.limit||i.length,this.height)}set value(e){super.value=e}get value(){return"string"!=typeof super.value&&super.value===this.initial?this.input:super.value}set index(e){this.state.index=e}get index(){return Math.max(0,this.state?this.state.index:0)}get enabled(){return this.filter(this.isEnabled.bind(this))}get focused(){let e=this.choices[this.index];return e&&this.state.submitted&&!0!==this.multiple&&(e.enabled=!0),e}get selectable(){return this.choices.filter(e=>!this.isDisabled(e))}get selected(){return this.multiple?this.enabled:this.focused}},ne=class extends re{constructor(e){super(e),this.emptyError=this.options.emptyError||"No items were selected"}async dispatch(e,t){if(this.multiple)return this[t.name]?await this[t.name](e,t):await super.dispatch(e,t);this.alert()}separator(){if(this.options.separator)return super.separator();let e=this.styles.muted(this.symbols.ellipsis);return this.state.submitted?super.separator():e}pointer(e,t){return!this.multiple||this.options.pointer?super.pointer(e,t):""}indicator(e,t){return this.multiple?super.indicator(e,t):""}choiceMessage(e,t){let i=this.resolve(e.message,this.state,e,t);return"heading"!==e.role||L.hasColor(i)||(i=this.styles.strong(i)),this.resolve(i,this.state,e,t)}choiceSeparator(){return":"}async renderChoice(e,t){await this.onChoice(e,t);let i=this.index===t,s=await this.pointer(e,t),r=await this.indicator(e,t)+(e.pad||""),n=await this.resolve(e.hint,this.state,e,t);n&&!L.hasColor(n)&&(n=this.styles.muted(n));let o=this.indent(e),a=await this.choiceMessage(e,t),l=()=>[this.margin[3],o+s+r,a,this.margin[1],n].filter(Boolean).join(" ");return"heading"===e.role?l():e.disabled?(L.hasColor(a)||(a=this.styles.disabled(a)),l()):(i&&(a=this.styles.em(a)),l())}async renderChoices(){if("choices"===this.state.loading)return this.styles.warning("Loading choices");if(this.state.submitted)return"";let e=this.visible.map(async(e,t)=>await this.renderChoice(e,t)),t=await Promise.all(e);t.length||t.push(this.styles.danger("No matching choices"));let i,s=this.margin[0]+t.join("\n");return this.options.choicesHeader&&(i=await this.resolve(this.options.choicesHeader,this.state)),[i,s].filter(Boolean).join("\n")}format(){return!this.state.submitted||this.state.cancelled?"":Array.isArray(this.selected)?this.selected.map(e=>this.styles.primary(e.name)).join(", "):this.styles.primary(this.selected.name)}async render(){let{submitted:e,size:t}=this.state,i="",s=await this.header(),r=await this.prefix(),n=await this.separator(),o=await this.message();!1!==this.options.promptLine&&(i=[r,o,n,""].join(" "),this.state.prompt=i);let a=await this.format(),l=await this.error()||await this.hint(),c=await this.renderChoices(),u=await this.footer();a&&(i+=a),l&&!i.includes(l)&&(i+=" "+l),e&&!a&&!c.trim()&&this.multiple&&null!=this.emptyError&&(i+=this.styles.danger(this.emptyError)),this.clear(t),this.write([s,i,c,u].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}},oe=class extends ne{constructor(e){super(e),this.cursorShow()}moveCursor(e){this.state.cursor+=e}dispatch(e){return this.append(e)}space(e){return this.options.multiple?super.space(e):this.append(e)}append(e){let{cursor:t,input:i}=this.state;return this.input=i.slice(0,t)+e+i.slice(t),this.moveCursor(1),this.complete()}delete(){let{cursor:e,input:t}=this.state;return t?(this.input=t.slice(0,e-1)+t.slice(e),this.moveCursor(-1),this.complete()):this.alert()}deleteForward(){let{cursor:e,input:t}=this.state;return void 0===t[e]?this.alert():(this.input=`${t}`.slice(0,e)+`${t}`.slice(e+1),this.complete())}number(e){return this.append(e)}async complete(){this.completing=!0,this.choices=await this.suggest(this.input,this.state._choices),this.state.limit=void 0,this.index=Math.min(Math.max(this.visible.length-1,0),this.index),await this.render(),this.completing=!1}suggest(e=this.input,t=this.state._choices){if("function"==typeof this.options.suggest)return this.options.suggest.call(this,e,t);let i=e.toLowerCase();return t.filter(e=>e.message.toLowerCase().includes(i))}pointer(){return""}format(){if(!this.focused)return this.input;if(this.options.multiple&&this.state.submitted)return this.selected.map(e=>this.styles.primary(e.message)).join(", ");if(this.state.submitted){let e=this.value=this.input=this.focused.value;return this.styles.primary(e)}return this.input}async render(){if("pending"!==this.state.status)return super.render();let e=((e,t)=>{let i=this.input.toLowerCase();return e=>{let s=e.toLowerCase().indexOf(i),r=t(e.slice(s,s+i.length));return s>=0?e.slice(0,s)+r+e.slice(s+i.length):e}})(0,this.options.highlight?this.options.highlight.bind(this):this.styles.placeholder),t=this.choices;this.choices=t.map(t=>({...t,message:e(t.message)})),await super.render(),this.choices=t}submit(){return this.options.multiple&&(this.value=this.selected.map(e=>e.name)),super.submit()}},ae=(e,t={})=>{e.cursorHide();let{input:i="",initial:s="",pos:r,showCursor:n=!0,color:o}=t,a=o||e.styles.placeholder,l=L.inverse(e.styles.primary),c=t=>l(e.styles.black(t)),u=i,h=c(" ");if(e.blink&&!0===e.blink.off&&(c=e=>e,h=""),n&&0===r&&""===s&&""===i)return c(" ");if(n&&0===r&&(i===s||""===i))return c(s[0])+a(s.slice(1));s=L.isPrimitive(s)?`${s}`:"",i=L.isPrimitive(i)?`${i}`:"";let d=s&&s.startsWith(i)&&s!==i,p=d?c(s[i.length]):h;if(r!==i.length&&!0===n&&(u=i.slice(0,r)+c(i[r])+i.slice(r+1),p=""),!1===n&&(p=""),d){let t=e.styles.unstyle(u+p);return u+p+a(s.slice(t.length))}return u+p},le=class extends ne{constructor(e){super({...e,multiple:!0}),this.type="form",this.initial=this.options.initial,this.align=[this.options.align,"right"].find(e=>null!=e),this.emptyError="",this.values={}}async reset(e){return await super.reset(),!0===e&&(this._index=this.index),this.index=this._index,this.values={},this.choices.forEach(e=>e.reset&&e.reset()),this.render()}dispatch(e){return!!e&&this.append(e)}append(e){let t=this.focused;if(!t)return this.alert();let{cursor:i,input:s}=t;return t.value=t.input=s.slice(0,i)+e+s.slice(i),t.cursor++,this.render()}delete(){let e=this.focused;if(!e||e.cursor<=0)return this.alert();let{cursor:t,input:i}=e;return e.value=e.input=i.slice(0,t-1)+i.slice(t),e.cursor--,this.render()}deleteForward(){let e=this.focused;if(!e)return this.alert();let{cursor:t,input:i}=e;if(void 0===i[t])return this.alert();let s=`${i}`.slice(0,t)+`${i}`.slice(t+1);return e.value=e.input=s,this.render()}right(){let e=this.focused;return e?e.cursor>=e.input.length?this.alert():(e.cursor++,this.render()):this.alert()}left(){let e=this.focused;return e?e.cursor<=0?this.alert():(e.cursor--,this.render()):this.alert()}space(e,t){return this.dispatch(e,t)}number(e,t){return this.dispatch(e,t)}next(){let e=this.focused;if(!e)return this.alert();let{initial:t,input:i}=e;return t&&t.startsWith(i)&&i!==t?(e.value=e.input=t,e.cursor=e.value.length,this.render()):super.next()}prev(){let e=this.focused;return e?0===e.cursor?super.prev():(e.value=e.input="",e.cursor=0,this.render()):this.alert()}separator(){return""}format(e){return this.state.submitted?"":super.format(e)}pointer(){return""}indicator(e){return e.input?"‚¶ø":"‚äô"}async choiceSeparator(e,t){let i=await this.resolve(e.separator,this.state,e,t)||":";return i?" "+this.styles.disabled(i):""}async renderChoice(e,t){await this.onChoice(e,t);let{state:i,styles:s}=this,{cursor:r,initial:n="",name:o,hint:a,input:l=""}=e,{muted:c,submitted:u,primary:h,danger:d}=s,p=a,f=this.index===t,m=e.validate||(()=>!0),y=await this.choiceSeparator(e,t),g=e.message;"right"===this.align&&(g=g.padStart(this.longest+1," ")),"left"===this.align&&(g=g.padEnd(this.longest+1," "));let w=this.values[o]=l||n,b=l?"success":"dark";!0!==await m.call(e,w,this.state)&&(b="danger");let v=(0,s[b])(await this.indicator(e,t))+(e.pad||""),E=this.indent(e),S=()=>[E,v,g+y,l,p].filter(Boolean).join(" ");return i.submitted?(g=N.unstyle(g),l=u(l),p="",S()):(l=e.format?await e.format.call(this,l,e,t):ae(this,{input:l,initial:n,pos:r,showCursor:f,color:this.styles.muted}),this.isValue(l)||(l=this.styles.muted(this.symbols.ellipsis)),e.result&&(this.values[o]=await e.result.call(this,w,e,t)),f&&(g=h(g)),e.error?l+=(l?" ":"")+d(e.error.trim()):e.hint&&(l+=(l?" ":"")+c(e.hint.trim())),S())}async submit(){return this.value=this.values,super.base.submit.call(this)}};const ce=()=>{throw new Error("expected prompt to have a custom authenticate method")},ue=(e=ce)=>class extends le{constructor(e){super(e)}async submit(){this.value=await e.call(this,this.values,this.state),super.base.submit.call(this)}static create(e){return ue(e)}};var he=ue();function de(e,t){return e.username===this.options.username&&e.password===this.options.password}const pe=(e=de)=>{const t=[{name:"username",message:"username"},{name:"password",message:"password",format(e){return this.options.showPassword?e:(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(e.length))}}];class i extends(he.create(e)){constructor(e){super({...e,choices:t})}static create(e){return pe(e)}}return i};var fe=pe();const{isPrimitive:me,hasColor:ye}=L;var ge=class extends K{constructor(e){super(e),this.cursorHide()}async initialize(){let e=await this.resolve(this.initial,this.state);this.input=await this.cast(e),await super.initialize()}dispatch(e){return this.isValue(e)?(this.input=e,this.submit()):this.alert()}format(e){let{styles:t,state:i}=this;return i.submitted?t.success(e):t.primary(e)}cast(e){return this.isTrue(e)}isTrue(e){return/^[ty1]/i.test(e)}isFalse(e){return/^[fn0]/i.test(e)}isValue(e){return me(e)&&(this.isTrue(e)||this.isFalse(e))}async hint(){if("pending"===this.state.status){let e=await this.element("hint");return ye(e)?e:this.styles.muted(e)}}async render(){let{input:e,size:t}=this.state,i=await this.prefix(),s=await this.separator(),r=[i,await this.message(),this.styles.muted(this.default),s].filter(Boolean).join(" ");this.state.prompt=r;let n=await this.header(),o=this.value=this.cast(e),a=await this.format(o),l=await this.error()||await this.hint(),c=await this.footer();l&&!r.includes(l)&&(a+=" "+l),r+=" "+a,this.clear(t),this.write([n,r,c].filter(Boolean).join("\n")),this.restore()}set value(e){super.value=e}get value(){return this.cast(super.value)}},we=class extends ge{constructor(e){super(e),this.default=this.options.default||(this.initial?"(Y/n)":"(y/N)")}};const be=le.prototype;var ve=class extends ne{constructor(e){super({...e,multiple:!0}),this.align=[this.options.align,"left"].find(e=>null!=e),this.emptyError="",this.values={}}dispatch(e,t){let i=this.focused;return i.editable||(i.parent||{}).editable||"a"!==e&&"i"!==e?be.dispatch.call(this,e,t):super[e]()}append(e,t){return be.append.call(this,e,t)}delete(e,t){return be.delete.call(this,e,t)}space(e){return this.focused.editable?this.append(e):super.space()}number(e){return this.focused.editable?this.append(e):super.number(e)}next(){return this.focused.editable?be.next.call(this):super.next()}prev(){return this.focused.editable?be.prev.call(this):super.prev()}async indicator(e,t){let i=e.editable?e.indicator||"":super.indicator(e,t);return await this.resolve(i,this.state,e,t)||""}indent(e){return"heading"===e.role?"":e.editable?" ":"  "}async renderChoice(e,t){return e.indent="",e.editable?be.renderChoice.call(this,e,t):super.renderChoice(e,t)}error(){return""}footer(){return this.state.error}async validate(){let e=!0;for(let t of this.choices){if("function"!=typeof t.validate)continue;if("heading"===t.role)continue;let i=t.parent?this.value[t.parent.name]:this.value;if(t.editable?i=t.value===t.name?t.initial||"":t.value:this.isDisabled(t)||(i=!0===t.enabled),e=await t.validate(i,this.state),!0!==e)break}return!0!==e&&(this.state.error="string"==typeof e?e:"Invalid Input"),e}submit(){if(!0===this.focused.newChoice)return super.submit();if(this.choices.some(e=>e.newChoice))return this.alert();this.value={};for(let e of this.choices){let t=e.parent?this.value[e.parent.name]:this.value;"heading"!==e.role?e.editable?t[e.name]=e.value===e.name?e.initial||"":e.value:this.isDisabled(e)||(t[e.name]=!0===e.enabled):this.value[e.name]={}}return this.base.submit.call(this)}};const{isPrimitive:Ee}=L;var Se=class extends K{constructor(e){super(e),this.initial=Ee(this.initial)?String(this.initial):"",this.initial&&this.cursorHide(),this.state.prevCursor=0,this.state.clipboard=[]}async keypress(e,t={}){let i=this.state.prevKeypress;return this.state.prevKeypress=t,!0!==this.options.multiline||"return"!==t.name||i&&"return"===i.name?super.keypress(e,t):this.append("\n",t)}moveCursor(e){this.cursor+=e}reset(){return this.input=this.value="",this.cursor=0,this.render()}dispatch(e,t){if(!e||t.ctrl||t.code)return this.alert();this.append(e)}append(e){let{cursor:t,input:i}=this.state;this.input=`${i}`.slice(0,t)+e+`${i}`.slice(t),this.moveCursor(String(e).length),this.render()}insert(e){this.append(e)}delete(){let{cursor:e,input:t}=this.state;if(e<=0)return this.alert();this.input=`${t}`.slice(0,e-1)+`${t}`.slice(e),this.moveCursor(-1),this.render()}deleteForward(){let{cursor:e,input:t}=this.state;if(void 0===t[e])return this.alert();this.input=`${t}`.slice(0,e)+`${t}`.slice(e+1),this.render()}cutForward(){let e=this.cursor;if(this.input.length<=e)return this.alert();this.state.clipboard.push(this.input.slice(e)),this.input=this.input.slice(0,e),this.render()}cutLeft(){let e=this.cursor;if(0===e)return this.alert();let t=this.input.slice(0,e),i=this.input.slice(e),s=t.split(" ");this.state.clipboard.push(s.pop()),this.input=s.join(" "),this.cursor=this.input.length,this.input+=i,this.render()}paste(){if(!this.state.clipboard.length)return this.alert();this.insert(this.state.clipboard.pop()),this.render()}toggleCursor(){this.state.prevCursor?(this.cursor=this.state.prevCursor,this.state.prevCursor=0):(this.state.prevCursor=this.cursor,this.cursor=0),this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.input.length-1,this.render()}next(){let e=null!=this.initial?String(this.initial):"";if(!e||!e.startsWith(this.input))return this.alert();this.input=this.initial,this.cursor=this.initial.length,this.render()}prev(){if(!this.input)return this.alert();this.reset()}backward(){return this.left()}forward(){return this.right()}right(){return this.cursor>=this.input.length?this.alert():(this.moveCursor(1),this.render())}left(){return this.cursor<=0?this.alert():(this.moveCursor(-1),this.render())}isValue(e){return!!e}async format(e=this.value){let t=await this.resolve(this.initial,this.state);return this.state.submitted?this.styles.submitted(e||t):ae(this,{input:e,initial:t,pos:this.cursor})}async render(){let e=this.state.size,t=await this.prefix(),i=await this.separator(),s=[t,await this.message(),i].filter(Boolean).join(" ");this.state.prompt=s;let r=await this.header(),n=await this.format(),o=await this.error()||await this.hint(),a=await this.footer();o&&!n.includes(o)&&(n+=" "+o),s+=" "+n,this.clear(e),this.write([r,s,a].filter(Boolean).join("\n")),this.restore()}};const Ie=e=>(e=>e.filter((t,i)=>e.lastIndexOf(t)===i))(e).filter(Boolean);var xe=(e,t={},i="")=>{let s,r,{past:n=[],present:o=""}=t;switch(e){case"prev":case"undo":return s=n.slice(0,n.length-1),r=n[n.length-1]||"",{past:Ie([i,...s]),present:r};case"next":case"redo":return s=n.slice(1),r=n[0]||"",{past:Ie([...s,i]),present:r};case"save":return{past:Ie([...n,i]),present:""};case"remove":return r=Ie(n.filter(e=>e!==i)),o="",r.length&&(o=r.pop()),{past:r,present:o};default:throw new Error(`Invalid action: "${e}"`)}},Oe=class extends Se{constructor(e){super(e);let t=this.options.history;if(t&&t.store){let e=t.values||this.initial;this.autosave=!!t.autosave,this.store=t.store,this.data=this.store.get("values")||{past:[],present:e},this.initial=this.data.present||this.data.past[this.data.past.length-1]}}completion(e){return this.store?(this.data=xe(e,this.data,this.input),this.data.present?(this.input=this.data.present,this.cursor=this.input.length,this.render()):this.alert()):this.alert()}altUp(){return this.completion("prev")}altDown(){return this.completion("next")}prev(){return this.save(),super.prev()}save(){this.store&&(this.data=xe("save",this.data,this.input),this.store.set("values",this.data))}submit(){return this.store&&!0===this.autosave&&this.save(),super.submit()}},Re=class extends Se{format(){return""}},Ce=class extends Se{constructor(e={}){super(e),this.sep=this.options.separator||/, */,this.initial=e.initial||""}split(e=this.value){return e?String(e).split(this.sep):[]}format(){return this.list.map(this.state.submitted?this.styles.primary:e=>e).join(", ")}async submit(e){let t=this.state.error||await this.validate(this.list,this.state);return!0!==t?(this.state.error=t,super.submit()):(this.value=this.list,super.submit())}get list(){return this.split()}},ke=class extends ne{constructor(e){super({...e,multiple:!0})}},Te=class extends Se{constructor(e={}){super({style:"number",...e}),this.min=this.isValue(e.min)?this.toNumber(e.min):-Infinity,this.max=this.isValue(e.max)?this.toNumber(e.max):Infinity,this.delay=null!=e.delay?e.delay:1e3,this.float=!1!==e.float,this.round=!0===e.round||!1===e.float,this.major=e.major||10,this.minor=e.minor||1,this.initial=null!=e.initial?e.initial:"",this.input=String(this.initial),this.cursor=this.input.length,this.cursorShow()}append(e){return!/[-+.]/.test(e)||"."===e&&this.input.includes(".")?this.alert("invalid number"):super.append(e)}number(e){return super.append(e)}next(){return this.input&&this.input!==this.initial?this.alert():this.isValue(this.initial)?(this.input=this.initial,this.cursor=String(this.initial).length,this.render()):this.alert()}up(e){let t=e||this.minor,i=this.toNumber(this.input);return i>this.max+t?this.alert():(this.input=`${i+t}`,this.render())}down(e){let t=e||this.minor,i=this.toNumber(this.input);return i<this.min-t?this.alert():(this.input=""+(i-t),this.render())}shiftDown(){return this.down(this.major)}shiftUp(){return this.up(this.major)}format(e=this.input){return"function"==typeof this.options.format?this.options.format.call(this,e):this.styles.info(e)}toNumber(e=""){return this.float?+e:Math.round(+e)}isValue(e){return/^[-+]?[0-9]+((\.)|(\.[0-9]+))?$/.test(e)}submit(){let e=[this.input,this.initial].find(e=>this.isValue(e));return this.value=this.toNumber(e||0),super.submit()}},Ae=Te,Pe=class extends Se{constructor(e){super(e),this.cursorShow()}format(e=this.input){return this.keypressed?(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(e.length)):""}},Ne=class extends re{constructor(e={}){super(e),this.widths=[].concat(e.messageWidth||50),this.align=[].concat(e.align||"left"),this.linebreak=e.linebreak||!1,this.edgeLength=e.edgeLength||3,this.newline=e.newline||"\n   ";let t=e.startNumber||1;"number"==typeof this.scale&&(this.scaleKey=!1,this.scale=Array(this.scale).fill(0).map((e,i)=>({name:i+t})))}async reset(){return this.tableized=!1,await super.reset(),this.render()}tableize(){if(!0===this.tableized)return;this.tableized=!0;let e=0;for(let t of this.choices){e=Math.max(e,t.message.length),t.scaleIndex=t.initial||2,t.scale=[];for(let e=0;e<this.scale.length;e++)t.scale.push({index:e})}this.widths[0]=Math.min(this.widths[0],e+3)}async dispatch(e,t){if(this.multiple)return this[t.name]?await this[t.name](e,t):await super.dispatch(e,t);this.alert()}heading(e,t,i){return this.styles.strong(e)}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let e=this.focused;return e.scaleIndex>=this.scale.length-1?this.alert():(e.scaleIndex++,this.render())}left(){let e=this.focused;return e.scaleIndex<=0?this.alert():(e.scaleIndex--,this.render())}indent(){return""}format(){return this.state.submitted?this.choices.map(e=>this.styles.info(e.index)).join(", "):""}pointer(){return""}renderScaleKey(){return!1===this.scaleKey||this.state.submitted?"":["",...this.scale.map(e=>`   ${e.name} - ${e.message}`)].map(e=>this.styles.muted(e)).join("\n")}renderScaleHeading(e){let t=this.scale.map(e=>e.name);"function"==typeof this.options.renderScaleHeading&&(t=this.options.renderScaleHeading.call(this,e));let i=this.scaleLength-t.join("").length,s=Math.round(i/(t.length-1)),r=t.map(e=>this.styles.strong(e)).join(" ".repeat(s)),n=" ".repeat(this.widths[0]);return this.margin[3]+n+this.margin[1]+r}scaleIndicator(e,t,i){if("function"==typeof this.options.scaleIndicator)return this.options.scaleIndicator.call(this,e,t,i);let s=e.scaleIndex===t.index;return t.disabled?this.styles.hint(this.symbols.radio.disabled):s?this.styles.success(this.symbols.radio.on):this.symbols.radio.off}renderScale(e,t){return e.scale.map(i=>this.scaleIndicator(e,i,t)).join(("Hyper"===this.term?"":" ")+this.symbols.line.repeat(this.edgeLength))}async renderChoice(e,t){await this.onChoice(e,t);let i=this.index===t,s=await this.pointer(e,t),r=await e.hint;r&&!L.hasColor(r)&&(r=this.styles.muted(r));let n=e=>this.margin[3]+e.replace(/\s+$/,"").padEnd(this.widths[0]," "),o=this.newline,a=this.indent(e),l=await this.resolve(e.message,this.state,e,t),c=await this.renderScale(e,t),u=this.margin[1]+this.margin[3];this.scaleLength=N.unstyle(c).length,this.widths[0]=Math.min(this.widths[0],this.width-this.scaleLength-u.length);let h=L.wordWrap(l,{width:this.widths[0],newline:o}).split("\n").map(e=>n(e)+this.margin[1]);return i&&(c=this.styles.info(c),h=h.map(e=>this.styles.info(e))),h[0]+=c,this.linebreak&&h.push(""),[a+s,h.join("\n")].filter(Boolean)}async renderChoices(){if(this.state.submitted)return"";this.tableize();let e=this.visible.map(async(e,t)=>await this.renderChoice(e,t)),t=await Promise.all(e),i=await this.renderScaleHeading();return this.margin[0]+[i,...t.map(e=>e.join(" "))].join("\n")}async render(){let{submitted:e,size:t}=this.state,i=await this.prefix(),s=await this.separator(),r=await this.message(),n="";!1!==this.options.promptLine&&(n=[i,r,s,""].join(" "),this.state.prompt=n);let o=await this.header(),a=await this.format(),l=await this.renderScaleKey(),c=await this.error()||await this.hint(),u=await this.renderChoices(),h=await this.footer(),d=this.emptyError;a&&(n+=a),c&&!n.includes(c)&&(n+=" "+c),e&&!a&&!u.trim()&&this.multiple&&null!=d&&(n+=this.styles.danger(d)),this.clear(t),this.write([o,n,l,u,h].filter(Boolean).join("\n")),this.state.submitted||this.write(this.margin[2]),this.restore()}submit(){this.value={};for(let e of this.choices)this.value[e.name]=e.scaleIndex;return this.base.submit.call(this)}};class Le{constructor(e){this.name=e.key,this.field=e.field||{},this.value=((e="")=>"string"==typeof e?e.replace(/^['"]|['"]$/g,""):"")(e.initial||this.field.initial||""),this.message=e.message||this.name,this.cursor=0,this.input="",this.lines=[]}}function je(e,t,i,s){return(i,r,n,o)=>"function"==typeof n.field[e]?n.field[e].call(t,i,r,n,o):[s,i].find(e=>t.isValue(e))}var $e=class extends K{constructor(e){super(e),this.cursorHide(),this.reset(!0)}async initialize(){this.interpolate=await(async e=>{let t=e.options,i=new Set(!0===t.required?[]:t.required||[]),s={...t.values,...t.initial},{tabstops:r,items:n,keys:o}=await(async(e={},t={},i=(e=>e))=>{let s=new Set,r=e.fields||[],n=e.template,o=[],a=[],l=[],c=1;"function"==typeof n&&(n=await n());let u=-1,h=()=>n[++u],d=()=>n[u+1],p=e=>{e.line=c,o.push(e)};for(p({type:"bos",value:""});u<n.length-1;){let e=h();if(/^[^\S\n ]$/.test(e)){p({type:"text",value:e});continue}if("\n"===e){p({type:"newline",value:e}),c++;continue}if("\\"===e){e+=h(),p({type:"text",value:e});continue}if(("$"===e||"#"===e||"{"===e)&&"{"===d()){e+=h();let n,o={type:"template",open:e,inner:"",close:"",value:e};for(;n=h();){if("}"===n){"}"===d()&&(n+=h()),o.value+=n,o.close=n;break}":"===n?(o.initial="",o.key=o.inner):void 0!==o.initial&&(o.initial+=n),o.value+=n,o.inner+=n}o.template=o.open+(o.initial||o.inner)+o.close,o.key=o.key||o.inner,t.hasOwnProperty(o.key)&&(o.initial=t[o.key]),o=i(o),p(o),l.push(o.key),s.add(o.key);let c=a.find(e=>e.name===o.key);o.field=r.find(e=>e.name===o.key),c||(c=new Le(o),a.push(c)),c.lines.push(o.line-1);continue}let n=o[o.length-1];"text"===n.type&&n.line===c?n.value+=e:p({type:"text",value:e})}return p({type:"eos",value:""}),{input:n,tabstops:o,unique:s,keys:l,items:a}})(t,s),a=je("result",e),l=je("format",e),c=je("validate",e,0,!0),u=e.isValue.bind(e);return async(s={},h=!1)=>{let d=0;s.required=i,s.items=n,s.keys=o,s.output="";let p=async(e,t,i,s)=>{let r=await c(e,t,i,s);return!1===r?"Invalid field "+i.name:r};for(let i of r){let r=i.value,o=i.key;if("template"===i.type){if("template"===i.type){let c=n.find(e=>e.name===o);!0===t.required&&s.required.add(c.name);let f=[c.input,s.values[c.value],c.value,r].find(u),m=(c.field||{}).message||i.inner;if(h){let e=await p(s.values[o],s,c,d);if(e&&"string"==typeof e||!1===e){s.invalid.set(o,e);continue}s.invalid.delete(o);let t=await a(s.values[o],s,c,d);s.output+=N.unstyle(t);continue}c.placeholder=!1;let y=r;r=await l(r,s,c,d),f!==r?(s.values[o]=f,r=e.styles.typing(f),s.missing.delete(m)):(s.values[o]=void 0,f=`<${m}>`,r=e.styles.primary(f),c.placeholder=!0,s.required.has(o)&&s.missing.add(m)),s.missing.has(m)&&s.validating&&(r=e.styles.warning(f)),s.invalid.has(o)&&s.validating&&(r=e.styles.danger(f)),d===s.index&&(r=y!==r?e.styles.underline(r):e.styles.heading(N.unstyle(r))),d++}r&&(s.output+=r)}else r&&(s.output+=r)}let f=s.output.split("\n").map(e=>" "+e),m=n.length,y=0;for(let t of n)s.invalid.has(t.name)&&t.lines.forEach(e=>{" "===f[e][0]&&(f[e]=s.styles.danger(s.symbols.bullet)+f[e].slice(1))}),e.isValue(s.values[t.name])&&y++;return s.completed=(y/m*100).toFixed(0),s.output=f.join("\n"),s.output}})(this),await super.initialize()}async reset(e){this.state.keys=[],this.state.invalid=new Map,this.state.missing=new Set,this.state.completed=0,this.state.values={},!0!==e&&(await this.initialize(),await this.render())}moveCursor(e){let t=this.getItem();this.cursor+=e,t.cursor+=e}dispatch(e,t){t.code||t.ctrl||null==e||!this.getItem()?this.alert():this.append(e,t)}append(e,t){let i=this.getItem(),s=i.input.slice(0,this.cursor),r=i.input.slice(this.cursor);this.input=i.input=`${s}${e}${r}`,this.moveCursor(1),this.render()}delete(){let e=this.getItem();if(this.cursor<=0||!e.input)return this.alert();let t=e.input.slice(this.cursor),i=e.input.slice(0,this.cursor-1);this.input=e.input=`${i}${t}`,this.moveCursor(-1),this.render()}increment(e){return e>=this.state.keys.length-1?0:e+1}decrement(e){return e<=0?this.state.keys.length-1:e-1}first(){this.state.index=0,this.render()}last(){this.state.index=this.state.keys.length-1,this.render()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1),this.render()}prev(){this.state.index=this.decrement(this.state.index),this.getItem(),this.render()}next(){this.state.index=this.increment(this.state.index),this.getItem(),this.render()}up(){this.prev()}down(){this.next()}format(e){let t=this.state.completed<100?this.styles.warning:this.styles.success;return!0===this.state.submitted&&100!==this.state.completed&&(t=this.styles.danger),t(`${this.state.completed}% completed`)}async render(){let{index:e,keys:t=[],submitted:i,size:s}=this.state,r=[this.options.newline,"\n"].find(e=>null!=e),n=await this.prefix(),o=await this.separator(),a=[n,await this.message(),o].filter(Boolean).join(" ");this.state.prompt=a;let l=await this.header(),c=await this.error()||"",u=await this.hint()||"",h=i?"":await this.interpolate(this.state),d=this.state.key=t[e]||"",p=await this.format(d),f=await this.footer();p&&(a+=" "+p),u&&!p&&0===this.state.completed&&(a+=" "+u),this.clear(s);let m=[l,a,h,f,c.trim()];this.write(m.filter(Boolean).join(r)),this.restore()}getItem(e){let{items:t,keys:i,index:s}=this.state,r=t.find(e=>e.name===i[s]);return r&&null!=r.input&&(this.input=r.input,this.cursor=r.cursor),r}async submit(){"function"!=typeof this.interpolate&&await this.initialize(),await this.interpolate(this.state,!0);let{invalid:e,missing:t,output:i,values:s}=this.state;if(e.size){let t="";for(let[i,s]of e)t+=`Invalid ${i}: ${s}\n`;return this.state.error=t,super.submit()}if(t.size)return this.state.error="Required: "+[...t.keys()].join(", "),super.submit();let r=N.unstyle(i).split("\n").map(e=>e.slice(1)).join("\n");return this.value={values:s,result:r},super.submit()}};const De="(Use <shift>+<up/down> to sort)";var _e=class extends ne{constructor(e){super({...e,reorder:!1,sort:!0,multiple:!0}),this.state.hint=[this.options.hint,De].find(this.isValue.bind(this))}indicator(){return""}async renderChoice(e,t){let i=await super.renderChoice(e,t),s=this.index===t&&this.sorting?this.styles.muted(this.symbols.identicalTo+" "):"  ";return!1===this.options.drag&&(s=""),!0===this.options.numbered?s+`${t+1} - `+i:s+i}get selected(){return this.choices}submit(){return this.value=this.choices.map(e=>e.value),super.submit()}};function Fe(e,t={}){if(Array.isArray(t.scale))return t.scale.map(e=>({...e}));let i=[];for(let t=1;t<e+1;t++)i.push({i:t,selected:!1});return i}var Me=class extends re{constructor(e={}){if(super(e),this.emptyError=e.emptyError||"No items were selected",this.term=process.env.TERM_PROGRAM,!this.options.header){let e=["","4 - Strongly Agree","3 - Agree","2 - Neutral","1 - Disagree","0 - Strongly Disagree",""];e=e.map(e=>this.styles.muted(e)),this.state.header=e.join("\n   ")}}async toChoices(...e){if(this.createdScales)return!1;this.createdScales=!0;let t=await super.toChoices(...e);for(let e of t)e.scale=Fe(5,this.options),e.scaleIdx=2;return t}dispatch(){this.alert()}space(){let e=this.focused,t=e.scale[e.scaleIdx],i=t.selected;return e.scale.forEach(e=>e.selected=!1),t.selected=!i,this.render()}indicator(){return""}pointer(){return""}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let e=this.focused;return e.scaleIdx>=e.scale.length-1?this.alert():(e.scaleIdx++,this.render())}left(){let e=this.focused;return e.scaleIdx<=0?this.alert():(e.scaleIdx--,this.render())}indent(){return"   "}async renderChoice(e,t){await this.onChoice(e,t);let i=this.index===t,s="Hyper"===this.term,r=s?9:8,n=s?"":" ",o=this.symbols.line.repeat(r),a=" ".repeat(r+(s?0:1)),l=e=>(e?this.styles.success("‚óâ"):"‚óØ")+n,c=t+1+".",u=i?this.styles.heading:this.styles.noop,h=await this.resolve(e.message,this.state,e,t),d=this.indent(e),p=d+e.scale.map((t,i)=>l(i===e.scaleIdx)).join(o),f=d+e.scale.map((t,i)=>(t=>t===e.scaleIdx?u(t):t)(i)).join(a);return i&&(p=this.styles.cyan(p),f=this.styles.cyan(f)),[[c,h].filter(Boolean).join(" "),p,f," "].filter(Boolean).join("\n")}async renderChoices(){if(this.state.submitted)return"";let e=this.visible.map(async(e,t)=>await this.renderChoice(e,t)),t=await Promise.all(e);return t.length||t.push(this.styles.danger("No matching choices")),t.join("\n")}format(){return this.state.submitted?this.choices.map(e=>this.styles.info(e.scaleIdx)).join(", "):""}async render(){let{submitted:e,size:t}=this.state,i=await this.prefix(),s=await this.separator(),r=[i,await this.message(),s].filter(Boolean).join(" ");this.state.prompt=r;let n=await this.header(),o=await this.format(),a=await this.error()||await this.hint(),l=await this.renderChoices(),c=await this.footer();!o&&a||(r+=" "+o),a&&!r.includes(a)&&(r+=" "+a),e&&!o&&!l&&this.multiple&&"form"!==this.type&&(r+=this.styles.danger(this.emptyError)),this.clear(t),this.write([r,n,l,c].filter(Boolean).join("\n")),this.restore()}submit(){this.value={};for(let e of this.choices)this.value[e.name]=e.scaleIdx;return this.base.submit.call(this)}},Ge=Oe,Be=class extends ge{async initialize(){await super.initialize(),this.value=this.initial=!!this.options.initial,this.disabled=this.options.disabled||"no",this.enabled=this.options.enabled||"yes",await this.render()}reset(){this.value=this.initial,this.render()}delete(){this.alert()}toggle(){this.value=!this.value,this.render()}enable(){if(!0===this.value)return this.alert();this.value=!0,this.render()}disable(){if(!1===this.value)return this.alert();this.value=!1,this.render()}up(){this.toggle()}down(){this.toggle()}right(){this.toggle()}left(){this.toggle()}next(){this.toggle()}prev(){this.toggle()}dispatch(e="",t){switch(e.toLowerCase()){case" ":return this.toggle();case"1":case"y":case"t":return this.enable();case"0":case"n":case"f":return this.disable();default:return this.alert()}}format(){let e=e=>this.styles.primary.underline(e);return[this.value?this.disabled:e(this.disabled),this.value?e(this.enabled):this.enabled].join(this.styles.muted(" / "))}async render(){let{size:e}=this.state,t=await this.header(),i=await this.prefix(),s=await this.separator(),r=await this.message(),n=await this.format(),o=await this.error()||await this.hint(),a=await this.footer(),l=[i,r,s,n].join(" ");this.state.prompt=l,o&&!l.includes(o)&&(l+=" "+o),this.clear(e),this.write([t,l,a].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}},Ue=class extends ne{constructor(e){if(super(e),"number"!=typeof this.options.correctChoice||this.options.correctChoice<0)throw new Error("Please specify the index of the correct answer from the list of choices")}async toChoices(e,t){let i=await super.toChoices(e,t);if(i.length<2)throw new Error("Please give at least two choices to the user");if(this.options.correctChoice>i.length)throw new Error("Please specify the index of the correct answer from the list of choices");return i}check(e){return e.index===this.options.correctChoice}async result(e){return{selectedAnswer:e,correctAnswer:this.options.choices[this.options.correctChoice].value,correct:await this.check(this.state)}}},qe=k(function(e,t){const i=(e,i)=>{L.defineExport(t,e,i),L.defineExport(t,e.toLowerCase(),i)};i("AutoComplete",()=>oe),i("BasicAuth",()=>fe),i("Confirm",()=>we),i("Editable",()=>ve),i("Form",()=>le),i("Input",()=>Oe),i("Invisible",()=>Re),i("List",()=>Ce),i("MultiSelect",()=>ke),i("Numeral",()=>Ae),i("Password",()=>Pe),i("Scale",()=>Ne),i("Select",()=>ne),i("Snippet",()=>$e),i("Sort",()=>_e),i("Survey",()=>Me),i("Text",()=>Ge),i("Toggle",()=>Be),i("Quiz",()=>Ue)}),He={ArrayPrompt:re,AuthPrompt:he,BooleanPrompt:ge,NumberPrompt:Te,StringPrompt:Se};class Ve extends m.default{constructor(e,t){super(),this.options=L.merge({},e),this.answers={...t}}register(e,t){if(L.isObject(e)){for(let t of Object.keys(e))this.register(t,e[t]);return this}f.default.equal(typeof t,"function","expected a function");let i=e.toLowerCase();return this.prompts[i]=t.prototype instanceof this.Prompt?t:t(this.Prompt,this),this}async prompt(e=[]){for(let t of[].concat(e))try{"function"==typeof t&&(t=await t.call(this)),await this.ask(L.merge({},this.options,t))}catch(e){return Promise.reject(e)}return this.answers}async ask(e){"function"==typeof e&&(e=await e.call(this));let t=L.merge({},this.options,e),{type:i,name:s}=e,{set:r,get:n}=L;if("function"==typeof i&&(i=await i.call(this,e,this.answers)),!i)return this.answers[s];f.default(this.prompts[i],`Prompt "${i}" is not registered`);let o=new this.prompts[i](t),a=n(this.answers,s);o.state.answers=this.answers,o.enquirer=this,s&&o.on("submit",e=>{this.emit("answer",s,e,o),r(this.answers,s,e)});let l=o.emit.bind(o);return o.emit=(...e)=>(this.emit.call(this,...e),l(...e)),this.emit("prompt",o,this),t.autofill&&null!=a?(o.value=o.input=a,"show"===t.autofill&&await o.submit()):a=o.value=await o.run(),a}use(e){return e.call(this,this),this}set Prompt(e){this._Prompt=e}get Prompt(){return this._Prompt||this.constructor.Prompt}get prompts(){return this.constructor.prompts}static set Prompt(e){this._Prompt=e}static get Prompt(){return this._Prompt||K}static get prompts(){return qe}static get types(){return He}static get prompt(){const e=(t,...i)=>{let s=new this(...i),r=s.emit.bind(s);return s.emit=(...t)=>(e.emit(...t),r(...t)),s.prompt(t)};return L.mixinEmitter(e,new m.default),e}}L.mixinEmitter(Ve,new m.default);const We=Ve.prompts;for(let e of Object.keys(We)){let t=e.toLowerCase(),i=t=>new We[e](t).run();Ve.prompt[t]=i,Ve[t]=i,Ve[e]||Reflect.defineProperty(Ve,e,{get:()=>We[e]})}const ze=e=>{L.defineExport(Ve,e,()=>Ve.types[e])};ze("ArrayPrompt"),ze("AuthPrompt"),ze("BooleanPrompt"),ze("NumberPrompt"),ze("StringPrompt");var Xe=Ve,Ye={"gatsby-source-contentful":{message:"Contentful",plugins:["gatsby-plugin-image","gatsby-plugin-sharp","gatsby-transformer-sharp"]},"gatsby-source-datocms":{message:"DatoCMS",plugins:["gatsby-plugin-image","gatsby-plugin-sharp","gatsby-transformer-sharp"]},"gatsby-plugin-netlify-cms":{message:"Netlify CMS",dependencies:["netlify-cms-app"]},"gatsby-source-sanity":{message:"Sanity",plugins:["gatsby-plugin-image","gatsby-plugin-sharp","gatsby-transformer-sharp"]},"gatsby-source-shopify":{message:"Shopify",plugins:["gatsby-plugin-image","gatsby-plugin-sharp","gatsby-transformer-sharp"]},"gatsby-source-wordpress":{message:"WordPress",plugins:["gatsby-plugin-image","gatsby-plugin-sharp","gatsby-transformer-sharp"]}},Ke={"gatsby-plugin-emotion":{message:"Emotion",dependencies:["@emotion/react","@emotion/styled"]},"gatsby-plugin-postcss":{message:"PostCSS",dependencies:["postcss"]},"gatsby-plugin-sass":{message:"Sass",dependencies:["sass"]},"gatsby-plugin-styled-components":{message:"styled-components",dependencies:["styled-components","babel-plugin-styled-components"]},"gatsby-plugin-theme-ui":{message:"Theme UI",dependencies:["theme-ui","@theme-ui/mdx","@emotion/react","@mdx-js/react"]},"gatsby-plugin-vanilla-extract":{message:"vanilla-extract",dependencies:["@vanilla-extract/webpack-plugin","@vanilla-extract/css"]},tailwindcss:{message:"Tailwind CSS",plugins:["gatsby-plugin-postcss"],dependencies:["postcss","autoprefixer","gatsby-plugin-postcss"],isGatsbyPlugin:!1,files:[{source:"stubs/tailwindcss/gatsby-browser.js",targetPath:"gatsby-browser.js"},{source:"stubs/tailwindcss/global.css",targetPath:"src/styles/global.css"},{source:"stubs/tailwindcss/postcss.config.js",targetPath:"postcss.config.js"},{source:"stubs/tailwindcss/tailwind.config.js",targetPath:"tailwind.config.js"}]}},Je={"gatsby-plugin-google-gtag":{message:"Add the Google gtag script for e.g. Google Analytics"},"gatsby-plugin-image":{message:"Add responsive images",plugins:["gatsby-plugin-sharp","gatsby-transformer-sharp","gatsby-source-filesystem:images"],options:{"gatsby-source-filesystem:images":{name:"images",path:"./src/images/"}}},"gatsby-plugin-sitemap":{message:"Add an automatic sitemap"},"gatsby-plugin-manifest":{message:"Generate a manifest file",options:{"gatsby-plugin-manifest":{icon:"src/images/icon.png"}}},"gatsby-plugin-mdx":{message:"Add Markdown and MDX support",plugins:["gatsby-source-filesystem:pages"],dependencies:["@mdx-js/react"],options:{"gatsby-source-filesystem:pages":{name:"pages",path:"./src/pages/"}}},"gatsby-transformer-remark":{message:"Add Markdown support (without MDX)",plugins:["gatsby-source-filesystem:pages"],options:{"gatsby-source-filesystem:pages":{name:"pages",path:"./src/pages/"}}}},Ze=et;function Qe(e,t,i){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var i=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!i)return!0;if(-1!==(i=i.split(";")).indexOf(""))return!0;for(var s=0;s<i.length;s++){var r=i[s].toLowerCase();if(r&&e.substr(-r.length).toLowerCase()===r)return!0}return!1}(t,i)}function et(e,t,i){b.default.stat(e,function(s,r){i(s,!s&&Qe(r,e,t))})}et.sync=function(e,t){return Qe(b.default.statSync(e),e,t)};var tt,it=st;function st(e,t,i){b.default.stat(e,function(e,s){i(e,!e&&rt(s,t))})}function rt(e,t){return e.isFile()&&function(e,t){var i=e.mode,s=e.uid,r=e.gid,n=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),o=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8);return i&parseInt("001",8)||i&l&&r===o||i&a&&s===n||i&(a|l)&&0===n}(e,t)}st.sync=function(e,t){return rt(b.default.statSync(e),t)},tt="win32"===process.platform||C.TESTING_WINDOWS?Ze:it;var nt=ot;function ot(e,t,i){if("function"==typeof t&&(i=t,t={}),!i){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise(function(i,s){ot(e,t||{},function(e,t){e?s(e):i(t)})})}tt(e,t||{},function(e,s){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,s=!1),i(e,s)})}ot.sync=function(e,t){try{return tt.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}};const at="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,lt=at?";":":",ct=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),ut=(e,t)=>{const i=t.colon||lt,s=e.match(/\//)||at&&e.match(/\\/)?[""]:[...at?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(i)],r=at?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",n=at?r.split(i):[""];return at&&-1!==e.indexOf(".")&&""!==n[0]&&n.unshift(""),{pathEnv:s,pathExt:n,pathExtExe:r}},ht=(e,t,i)=>{"function"==typeof t&&(i=t,t={}),t||(t={});const{pathEnv:s,pathExt:r,pathExtExe:n}=ut(e,t),o=[],a=i=>new Promise((r,n)=>{if(i===s.length)return t.all&&o.length?r(o):n(ct(e));const a=s[i],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=w.default.join(c,e),h=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;r(l(h,i,0))}),l=(e,i,s)=>new Promise((c,u)=>{if(s===r.length)return c(a(i+1));const h=r[s];nt(e+h,{pathExt:n},(r,n)=>{if(!r&&n){if(!t.all)return c(e+h);o.push(e+h)}return c(l(e,i,s+1))})});return i?a(0).then(e=>i(null,e),i):a(0)};var dt=ht;ht.sync=(e,t)=>{t=t||{};const{pathEnv:i,pathExt:s,pathExtExe:r}=ut(e,t),n=[];for(let o=0;o<i.length;o++){const a=i[o],l=/^".*"$/.test(a)?a.slice(1,-1):a,c=w.default.join(l,e),u=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let e=0;e<s.length;e++){const i=u+s[e];try{if(nt.sync(i,{pathExt:r})){if(!t.all)return i;n.push(i)}}catch(e){}}}if(t.all&&n.length)return n;if(t.nothrow)return null;throw ct(e)};const pt=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};var ft=pt;function mt(e,t){const i=e.options.env||process.env,s=process.cwd(),r=null!=e.options.cwd,n=r&&void 0!==process.chdir&&!process.chdir.disabled;if(n)try{process.chdir(e.options.cwd)}catch(e){}let o;try{o=dt.sync(e.command,{path:i[ft({env:i})],pathExt:t?w.default.delimiter:void 0})}catch(e){}finally{n&&process.chdir(s)}return o&&(o=w.default.resolve(r?e.options.cwd:"",o)),o}ft.default=pt;var yt=function(e){return mt(e)||mt(e,!0)};const gt=/([()\][%!^"`<>&|;, *?])/g;var wt=/^#!(.*)/;const bt="win32"===process.platform,vt=/\.(?:com|exe)$/i,Et=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;var St=function(e,t,i){t&&!Array.isArray(t)&&(i=t,t=null);const s={command:e,args:t=t?t.slice(0):[],options:i=Object.assign({},i),file:void 0,original:{command:e,args:t}};return i.shell?s:function(e){if(!bt)return e;const t=function(e){e.file=yt(e);const t=e.file&&function(e){const t=Buffer.alloc(150);let i;try{i=b.default.openSync(e,"r"),b.default.readSync(i,t,0,150,0),b.default.closeSync(i)}catch(e){}return((e="")=>{const t=e.match(wt);if(!t)return null;const[i,s]=t[0].replace(/#! ?/,"").split(" "),r=i.split("/").pop();return"env"===r?s:s?`${r} ${s}`:r})(t.toString())}(e.file);return t?(e.args.unshift(e.file),e.command=t,yt(e)):e.file}(e),i=!vt.test(t);if(e.options.forceShell||i){const i=Et.test(t);e.command=w.default.normalize(e.command),e.command=e.command.replace(gt,"^$1"),e.args=e.args.map(e=>function(e,t){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(gt,"^$1"),t&&(e=e.replace(gt,"^$1")),e}(e,i));const s=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${s}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(s)};const It="win32"===process.platform;function xt(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Ot(e,t){return It&&1===e&&!t.file?xt(t.original,"spawn"):null}var Rt={hookChildProcess:function(e,t){if(!It)return;const i=e.emit;e.emit=function(s,r){if("exit"===s){const s=Ot(r,t);if(s)return i.call(e,"error",s)}return i.apply(e,arguments)}},verifyENOENT:Ot,verifyENOENTSync:function(e,t){return It&&1===e&&!t.file?xt(t.original,"spawnSync"):null},notFoundError:xt};function Ct(e,t,i){const s=St(e,t,i),r=g.default.spawn(s.command,s.args,s.options);return Rt.hookChildProcess(r,s),r}var kt=Ct,Tt=St,At=Rt;kt.spawn=Ct,kt.sync=function(e,t,i){const s=St(e,t,i),r=g.default.spawnSync(s.command,s.args,s.options);return r.error=r.error||Rt.verifyENOENTSync(r.status,s),r},kt._parse=Tt,kt._enoent=At;const Pt=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};var Nt=Pt;Nt.default=Pt;var Lt=k(function(e){const t=e=>{let t;e={cwd:process.cwd(),path:process.env[Nt()],execPath:process.execPath,...e};let i=w.default.resolve(e.cwd);const s=[];for(;t!==i;)s.push(w.default.join(i,"node_modules/.bin")),t=i,i=w.default.resolve(i,"..");const r=w.default.resolve(e.cwd,e.execPath,"..");return s.push(r),s.concat(e.path).join(w.default.delimiter)};e.exports=t,e.exports.default=t,e.exports.env=t=>{const i={...(t={env:process.env,...t}).env},s=Nt({env:i});return t.path=i[s],i[s]=e.exports(t),i}});const jt=(e,t)=>{for(const i of Reflect.ownKeys(t))Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i));return e};var $t=jt;$t.default=jt;const Dt=new WeakMap,_t=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let i,s=0;const r=e.displayName||e.name||"<anonymous>",n=function(...o){if(Dt.set(n,++s),1===s)i=e.apply(this,o),e=null;else if(!0===t.throw)throw new Error(`Function \`${r}\` can only be called once`);return i};return $t(n,e),Dt.set(n,s),n};var Ft=_t;Ft.default=_t,Ft.callCount=e=>{if(!Dt.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Dt.get(e)};var Mt=k(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNALS=void 0,t.SIGNALS=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}]}),Gt=k(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SIGRTMAX=t.getRealtimeSignals=void 0,t.getRealtimeSignals=function(){return Array.from({length:r-s+1},i)};const i=function(e,t){return{name:`SIGRT${t+1}`,number:s+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},s=34,r=64;t.SIGRTMAX=r}),Bt=k(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSignals=void 0,t.getSignals=function(){const e=(0,Gt.getRealtimeSignals)();return[...Mt.SIGNALS,...e].map(i)};const i=function({name:e,number:t,description:i,action:s,forced:r=!1,standard:n}){const{signals:{[e]:o}}=v.default.constants,a=void 0!==o;return{name:e,number:a?o:t,description:i,supported:a,action:s,forced:r,standard:n}}}),Ut=k(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.signalsByNumber=t.signalsByName=void 0;const i=(0,Bt.getSignals)().reduce(function(e,{name:t,number:i,description:s,supported:r,action:n,forced:o,standard:a}){return{...e,[t]:{name:t,number:i,description:s,supported:r,action:n,forced:o,standard:a}}},{});t.signalsByName=i;const s=function(){const e=(0,Bt.getSignals)(),t=Array.from({length:Gt.SIGRTMAX+1},(t,i)=>function(e,t){const i=function(e,t){const i=t.find(({name:t})=>v.default.constants.signals[t]===e);return void 0!==i?i:t.find(t=>t.number===e)}(e,t);if(void 0===i)return{};const{name:s,description:r,supported:n,action:o,forced:a,standard:l}=i;return{[e]:{name:s,number:e,description:r,supported:n,action:o,forced:a,standard:l}}}(i,e));return Object.assign({},...t)}();t.signalsByNumber=s});const{signalsByName:qt}=Ut;var Ht=({stdout:e,stderr:t,all:i,error:s,signal:r,exitCode:n,command:o,escapedCommand:a,timedOut:l,isCanceled:c,killed:u,parsed:{options:{timeout:h}}})=>{const d=void 0===(r=null===r?void 0:r)?void 0:qt[r].description,p=(({timedOut:e,timeout:t,errorCode:i,signal:s,signalDescription:r,exitCode:n,isCanceled:o})=>e?`timed out after ${t} milliseconds`:o?"was canceled":void 0!==i?`failed with ${i}`:void 0!==s?`was killed with ${s} (${r})`:void 0!==n?`failed with exit code ${n}`:"failed")({timedOut:l,timeout:h,errorCode:s&&s.code,signal:r,signalDescription:d,exitCode:n=null===n?void 0:n,isCanceled:c}),f=`Command ${p}: ${o}`,m="[object Error]"===Object.prototype.toString.call(s),y=m?`${f}\n${s.message}`:f,g=[y,t,e].filter(Boolean).join("\n");return m?(s.originalMessage=s.message,s.message=g):s=new Error(g),s.shortMessage=y,s.command=o,s.escapedCommand=a,s.exitCode=n,s.signal=r,s.signalDescription=d,s.stdout=e,s.stderr=t,void 0!==i&&(s.all=i),"bufferedData"in s&&delete s.bufferedData,s.failed=!0,s.timedOut=Boolean(l),s.isCanceled=c,s.killed=u&&!l,s};const Vt=["stdin","stdout","stderr"],Wt=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return Vt.map(t=>e[t]);if((e=>Vt.some(t=>void 0!==e[t]))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Vt.map(e=>`\`${e}\``).join(", ")}`);if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const i=Math.max(t.length,Vt.length);return Array.from({length:i},(e,i)=>t[i])};var zt=Wt;zt.node=e=>{const t=Wt(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]};var Xt=k(function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}),Yt=k(function(e){var t=C.process;const i=function(e){return e&&"object"==typeof e&&"function"==typeof e.removeListener&&"function"==typeof e.emit&&"function"==typeof e.reallyExit&&"function"==typeof e.listeners&&"function"==typeof e.kill&&"number"==typeof e.pid&&"function"==typeof e.on};if(i(t)){var s,r=f.default,n=Xt,o=/^win/i.test(t.platform),a=m.default;"function"!=typeof a&&(a=a.EventEmitter),t.__signal_exit_emitter__?s=t.__signal_exit_emitter__:((s=t.__signal_exit_emitter__=new a).count=0,s.emitted={}),s.infinite||(s.setMaxListeners(Infinity),s.infinite=!0),e.exports=function(e,t){if(!i(C.process))return function(){};r.equal(typeof e,"function","a callback must be provided for exit handler"),!1===h&&d();var n="exit";return t&&t.alwaysLast&&(n="afterexit"),s.on(n,e),function(){s.removeListener(n,e),0===s.listeners("exit").length&&0===s.listeners("afterexit").length&&l()}};var l=function(){h&&i(C.process)&&(h=!1,n.forEach(function(e){try{t.removeListener(e,u[e])}catch(e){}}),t.emit=g,t.reallyExit=p,s.count-=1)};e.exports.unload=l;var c=function(e,t,i){s.emitted[e]||(s.emitted[e]=!0,s.emit(e,t,i))},u={};n.forEach(function(e){u[e]=function(){i(C.process)&&t.listeners(e).length===s.count&&(l(),c("exit",null,e),c("afterexit",null,e),o&&"SIGHUP"===e&&(e="SIGINT"),t.kill(t.pid,e))}}),e.exports.signals=function(){return n};var h=!1,d=function(){!h&&i(C.process)&&(h=!0,s.count+=1,n=n.filter(function(e){try{return t.on(e,u[e]),!0}catch(e){return!1}}),t.emit=w,t.reallyExit=y)};e.exports.load=d;var p=t.reallyExit,y=function(e){i(C.process)&&(t.exitCode=e||0,c("exit",t.exitCode,null),c("afterexit",t.exitCode,null),p.call(t,t.exitCode))},g=t.emit,w=function(e,s){if("exit"===e&&i(C.process)){void 0!==s&&(t.exitCode=s);var r=g.apply(this,arguments);return c("exit",t.exitCode,null),c("afterexit",t.exitCode,null),r}return g.apply(this,arguments)}}else e.exports=function(){return function(){}}}),Kt={spawnedKill:(e,t="SIGTERM",i={})=>{const s=e(t);return((e,t,i,s)=>{if(!((e,{forceKillAfterTimeout:t},i)=>(e=>e===v.default.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase())(e)&&!1!==t&&i)(t,i,s))return;const r=(({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e})(i),n=setTimeout(()=>{e("SIGKILL")},r);n.unref&&n.unref()})(e,t,i,s),s},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:i="SIGTERM"},s)=>{if(0===t||void 0===t)return s;let r;const n=new Promise((s,n)=>{r=setTimeout(()=>{((e,t,i)=>{e.kill(t),i(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,i,n)},t)}),o=s.finally(()=>{clearTimeout(r)});return Promise.race([n,o])},validateTimeout:({timeout:e})=>{if(void 0!==e&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},setExitHandler:async(e,{cleanup:t,detached:i},s)=>{if(!t||i)return s;const r=Yt(()=>{e.kill()});return s.finally(()=>{r()})}};const Jt=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;Jt.writable=e=>Jt(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,Jt.readable=e=>Jt(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,Jt.duplex=e=>Jt.writable(e)&&Jt.readable(e),Jt.transform=e=>Jt.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState;var Zt=Jt;const{PassThrough:Qt}=S.default,{constants:ei}=E.default,{promisify:ti}=I.default,ii=ti(S.default.pipeline);class si extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function ri(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:Infinity,...t};const{maxBuffer:i}=t,s=(e=>{e={...e};const{array:t}=e;let{encoding:i}=e;const s="buffer"===i;let r=!1;t?r=!(i||s):i=i||"utf8",s&&(i=null);const n=new Qt({objectMode:r});i&&n.setEncoding(i);let o=0;const a=[];return n.on("data",e=>{a.push(e),r?o=a.length:o+=e.length}),n.getBufferedValue=()=>t?a:s?Buffer.concat(a,o):a.join(""),n.getBufferedLength=()=>o,n})(t);return await new Promise((t,r)=>{const n=e=>{e&&s.getBufferedLength()<=ei.MAX_LENGTH&&(e.bufferedData=s.getBufferedValue()),r(e)};(async()=>{try{await ii(e,s),t()}catch(e){n(e)}})(),s.on("data",()=>{s.getBufferedLength()>i&&n(new si)})}),s.getBufferedValue()}var ni=ri,oi=si;ni.buffer=(e,t)=>ri(e,{...t,encoding:"buffer"}),ni.array=(e,t)=>ri(e,{...t,array:!0}),ni.MaxBufferError=oi;const{PassThrough:ai}=S.default,li=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},ci=(e,{encoding:t,buffer:i,maxBuffer:s})=>{if(e&&i)return t?ni(e,{encoding:t,maxBuffer:s}):ni.buffer(e,{maxBuffer:s})};var ui={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(Zt(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const i=function(){var e=[],t=new ai({objectMode:!0});return t.setMaxListeners(0),t.add=i,t.isEmpty=function(){return 0==e.length},t.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(i),t;function i(r){return Array.isArray(r)?(r.forEach(i),this):(e.push(r),r.once("end",s.bind(null,r)),r.once("error",t.emit.bind(t,"error")),r.pipe(t,{end:!1}),this)}function s(i){!(e=e.filter(function(e){return e!==i})).length&&t.readable&&t.end()}}();return e.stdout&&i.add(e.stdout),e.stderr&&i.add(e.stderr),i},getSpawnedResult:async({stdout:e,stderr:t,all:i},{encoding:s,buffer:r,maxBuffer:n},o)=>{const a=ci(e,{encoding:s,buffer:r,maxBuffer:n}),l=ci(t,{encoding:s,buffer:r,maxBuffer:n}),c=ci(i,{encoding:s,buffer:r,maxBuffer:2*n});try{return await Promise.all([o,a,l,c])}catch(s){return Promise.all([{error:s,signal:s.signal,timedOut:s.timedOut},li(e,a),li(t,l),li(i,c)])}},validateInputSync:({input:e})=>{if(Zt(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}};const hi=(async()=>{})().constructor.prototype,di=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(hi,e)]);var pi={mergePromise:(e,t)=>{for(const[i,s]of di){const r="function"==typeof t?(...e)=>Reflect.apply(s.value,t(),e):s.value.bind(t);Reflect.defineProperty(e,i,{...s,value:r})}return e},getSpawnedPromise:e=>new Promise((t,i)=>{e.on("exit",(e,i)=>{t({exitCode:e,signal:i})}),e.on("error",e=>{i(e)}),e.stdin&&e.stdin.on("error",e=>{i(e)})})};const fi=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],mi=/^[\w.-]+$/,yi=/"/g,gi=/ +/g;var wi={joinCommand:(e,t)=>fi(e,t).join(" "),getEscapedCommand:(e,t)=>fi(e,t).map(e=>(e=>"string"!=typeof e||mi.test(e)?e:`"${e.replace(yi,'\\"')}"`)(e)).join(" "),parseCommand:e=>{const t=[];for(const i of e.trim().split(gi)){const e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${i}`:t.push(i)}return t}};const{spawnedKill:bi,spawnedCancel:vi,setupTimeout:Ei,validateTimeout:Si,setExitHandler:Ii}=Kt,{handleInput:xi,getSpawnedResult:Oi,makeAllStream:Ri,validateInputSync:Ci}=ui,{mergePromise:ki,getSpawnedPromise:Ti}=pi,{joinCommand:Ai,parseCommand:Pi,getEscapedCommand:Ni}=wi,Li=(e,t,i={})=>{const s=kt._parse(e,t,i);return e=s.command,t=s.args,(i={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(i=s.options).cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...i}).env=(({env:e,extendEnv:t,preferLocal:i,localDir:s,execPath:r})=>{const n=t?{...process.env,...e}:e;return i?Lt.env({env:n,cwd:s,execPath:r}):n})(i),i.stdio=zt(i),"win32"===process.platform&&"cmd"===w.default.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:i,parsed:s}},ji=(e,t,i)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?(e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),i="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===i&&(e=e.slice(0,e.length-1)),e})(t):t:void 0===i?void 0:"",$i=(e,t,i)=>{const s=Li(e,t,i),r=Ai(e,t),n=Ni(e,t);let o;Si(s.options);try{o=g.default.spawn(s.file,s.args,s.options)}catch(e){const t=new g.default.ChildProcess,i=Promise.reject(Ht({error:e,stdout:"",stderr:"",all:"",command:r,escapedCommand:n,parsed:s,timedOut:!1,isCanceled:!1,killed:!1}));return ki(t,i)}const a=Ti(o),l=Ei(o,s.options,a),c=Ii(o,s.options,l),u={isCanceled:!1};o.kill=bi.bind(null,o.kill.bind(o)),o.cancel=vi.bind(null,o,u);const h=Ft(async()=>{const[{error:e,exitCode:t,signal:i,timedOut:a},l,h,d]=await Oi(o,s.options,c),p=ji(s.options,l),f=ji(s.options,h),m=ji(s.options,d);if(e||0!==t||null!==i){const l=Ht({error:e,exitCode:t,signal:i,stdout:p,stderr:f,all:m,command:r,escapedCommand:n,parsed:s,timedOut:a,isCanceled:u.isCanceled,killed:o.killed});if(!s.options.reject)return l;throw l}return{command:r,escapedCommand:n,exitCode:0,stdout:p,stderr:f,all:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return xi(o,s.options.input),o.all=Ri(o,s.options),ki(o,h)};var Di=$i;Di.sync=(e,t,i)=>{const s=Li(e,t,i),r=Ai(e,t),n=Ni(e,t);let o;Ci(s.options);try{o=g.default.spawnSync(s.file,s.args,s.options)}catch(e){throw Ht({error:e,stdout:"",stderr:"",all:"",command:r,escapedCommand:n,parsed:s,timedOut:!1,isCanceled:!1,killed:!1})}const a=ji(s.options,o.stdout,o.error),l=ji(s.options,o.stderr,o.error);if(o.error||0!==o.status||null!==o.signal){const e=Ht({stdout:a,stderr:l,error:o.error,signal:o.signal,exitCode:o.status,command:r,escapedCommand:n,parsed:s,timedOut:o.error&&"ETIMEDOUT"===o.error.code,isCanceled:!1,killed:null!==o.signal});if(!s.options.reject)return e;throw e}return{command:r,escapedCommand:n,exitCode:0,stdout:a,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},Di.command=(e,t)=>{const[i,...s]=Pi(e);return $i(i,s,t)},Di.commandSync=(e,t)=>{const[i,...s]=Pi(e);return $i.sync(i,s,t)},Di.node=(e,t,i={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(i=t,t=[]);const s=zt.node(i),r=process.execArgv.filter(e=>!e.startsWith("--inspect")),{nodePath:n=process.execPath,nodeOptions:o=r}=i;return $i(n,[...o,e,...Array.isArray(t)?t:[]],{...i,stdin:void 0,stdout:void 0,stderr:void 0,stdio:s,shell:!1})};var _i=function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((i,s)=>{e.call(this,...t,(e,t)=>null!=e?s(e):i(t))});e.apply(this,t)},"name",{value:e.name})},Fi=function(e){return Object.defineProperty(function(...t){const i=t[t.length-1];if("function"!=typeof i)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(e=>i(null,e),i)},"name",{value:e.name})},Mi=process.cwd,Gi=null,Bi=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Gi||(Gi=Mi.call(process)),Gi};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var Ui=process.chdir;process.chdir=function(e){Gi=null,Ui.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Ui)}var qi=S.default.Stream,Hi=Object.getPrototypeOf||function(e){return e.__proto__},Vi=k(function(e){var t,i;function s(e,i){Object.defineProperty(e,t,{get:function(){return i}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(t=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(t="___graceful-fs.queue",i="___graceful-fs.previous");var r,n=function(){};function o(e){(function(e){function t(t){return t?function(i,s,r){return t.call(e,i,s,function(e){a(e)&&(e=null),r&&r.apply(this,arguments)})}:t}function i(t){return t?function(i,s){try{return t.call(e,i,s)}catch(e){if(!a(e))throw e}}:t}function s(t){return t?function(i,s,r,n){return t.call(e,i,s,r,function(e){a(e)&&(e=null),n&&n.apply(this,arguments)})}:t}function r(t){return t?function(i,s,r){try{return t.call(e,i,s,r)}catch(e){if(!a(e))throw e}}:t}function n(t){return t?function(i,s,r){function n(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),r&&r.apply(this,arguments)}return"function"==typeof s&&(r=s,s=null),s?t.call(e,i,s,n):t.call(e,i,n)}:t}function o(t){return t?function(i,s){var r=s?t.call(e,i,s):t.call(e,i);return r&&(r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296)),r}:t}function a(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var l;x.default.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,i,s){e.open(t,x.default.O_WRONLY|x.default.O_SYMLINK,i,function(t,r){t?s&&s(t):e.fchmod(r,i,function(t){e.close(r,function(e){s&&s(t||e)})})})},e.lchmodSync=function(t,i){var s,r=e.openSync(t,x.default.O_WRONLY|x.default.O_SYMLINK,i),n=!0;try{s=e.fchmodSync(r,i),n=!1}finally{if(n)try{e.closeSync(r)}catch(e){}else e.closeSync(r)}return s}}(e),e.lutimes||function(e){x.default.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,i,s,r){e.open(t,x.default.O_SYMLINK,function(t,n){t?r&&r(t):e.futimes(n,i,s,function(t){e.close(n,function(e){r&&r(t||e)})})})},e.lutimesSync=function(t,i,s){var r,n=e.openSync(t,x.default.O_SYMLINK),o=!0;try{r=e.futimesSync(n,i,s),o=!1}finally{if(o)try{e.closeSync(n)}catch(e){}else e.closeSync(n)}return r}):e.futimes&&(e.lutimes=function(e,t,i,s){s&&process.nextTick(s)},e.lutimesSync=function(){})}(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=r(e.chownSync),e.fchownSync=r(e.fchownSync),e.lchownSync=r(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=n(e.stat),e.fstat=n(e.fstat),e.lstat=n(e.lstat),e.statSync=o(e.statSync),e.fstatSync=o(e.fstatSync),e.lstatSync=o(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,i){i&&process.nextTick(i)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,i,s){s&&process.nextTick(s)},e.lchownSync=function(){}),"win32"===Bi&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function i(i,s,r){var n=Date.now(),o=0;t(i,s,function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code)&&Date.now()-n<6e4)return setTimeout(function(){e.stat(s,function(e,n){e&&"ENOENT"===e.code?t(i,s,a):r(l)})},o),void(o<100&&(o+=10));r&&r(l)})}return Object.setPrototypeOf&&Object.setPrototypeOf(i,t),i}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function i(i,s,r,n,o,a){var l;if(a&&"function"==typeof a){var c=0;l=function(u,h,d){if(u&&"EAGAIN"===u.code&&c<10)return c++,t.call(e,i,s,r,n,o,l);a.apply(this,arguments)}}return t.call(e,i,s,r,n,o,l)}return Object.setPrototypeOf&&Object.setPrototypeOf(i,t),i}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(l=e.readSync,function(t,i,s,r,n){for(var o=0;;)try{return l.call(e,t,i,s,r,n)}catch(e){if("EAGAIN"===e.code&&o<10){o++;continue}throw e}})})(e),e.gracefulify=o,e.createReadStream=function(t,i){return new e.ReadStream(t,i)},e.createWriteStream=function(t,i){return new e.WriteStream(t,i)};var t=e.readFile;e.readFile=function(e,i,s){return"function"==typeof i&&(s=i,i=null),function e(i,s,r,n){return t(i,s,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof r&&r.apply(this,arguments):a([e,[i,s,r],t,n||Date.now(),Date.now()])})}(e,i,s)};var i=e.writeFile;e.writeFile=function(e,t,s,r){return"function"==typeof s&&(r=s,s=null),function e(t,s,r,n,o){return i(t,s,r,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof n&&n.apply(this,arguments):a([e,[t,s,r,n],i,o||Date.now(),Date.now()])})}(e,t,s,r)};var s=e.appendFile;s&&(e.appendFile=function(e,t,i,r){return"function"==typeof i&&(r=i,i=null),function e(t,i,r,n,o){return s(t,i,r,function(s){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof n&&n.apply(this,arguments):a([e,[t,i,r,n],s,o||Date.now(),Date.now()])})}(e,t,i,r)});var r=e.copyFile;r&&(e.copyFile=function(e,t,i,s){return"function"==typeof i&&(s=i,i=0),function e(t,i,s,n,o){return r(t,i,s,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof n&&n.apply(this,arguments):a([e,[t,i,s,n],r,o||Date.now(),Date.now()])})}(e,t,i,s)});var n=e.readdir;e.readdir=function(e,t,i){"function"==typeof t&&(i=t,t=null);var s=l.test(process.version)?function(e,t,i,s){return n(e,r(e,t,i,s))}:function(e,t,i,s){return n(e,t,r(e,t,i,s))};return s(e,t,i);function r(e,t,i,r){return function(n,o){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?(o&&o.sort&&o.sort(),"function"==typeof i&&i.call(this,n,o)):a([s,[e,t,i],n,r||Date.now(),Date.now()])}}};var l=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var c=function(e){return{ReadStream:function t(i,s){if(!(this instanceof t))return new t(i,s);qi.call(this);var r=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,s=s||{};for(var n=Object.keys(s),o=0,a=n.length;o<a;o++){var l=n[o];this[l]=s[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=Infinity;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,function(e,t){if(e)return r.emit("error",e),void(r.readable=!1);r.fd=t,r.emit("open",t),r._read()}):process.nextTick(function(){r._read()})},WriteStream:function t(i,s){if(!(this instanceof t))return new t(i,s);qi.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var r=Object.keys(s),n=0,o=r.length;n<o;n++){var a=r[n];this[a]=s[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}(e);f=c.ReadStream,m=c.WriteStream}var u=e.ReadStream;u&&(f.prototype=Object.create(u.prototype),f.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,function(t,i){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=i,e.emit("open",i),e.read())})});var h=e.WriteStream;h&&(m.prototype=Object.create(h.prototype),m.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,function(t,i){t?(e.destroy(),e.emit("error",t)):(e.fd=i,e.emit("open",i))})}),Object.defineProperty(e,"ReadStream",{get:function(){return f},set:function(e){f=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0});var d=f;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var p=m;function f(e,t){return this instanceof f?(u.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function m(e,t){return this instanceof m?(h.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var y=e.open;function g(e,t,i,s){return"function"==typeof i&&(s=i,i=null),function e(t,i,s,r,n){return y(t,i,s,function(o,l){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof r&&r.apply(this,arguments):a([e,[t,i,s,r],o,n||Date.now(),Date.now()])})}(e,t,i,s)}return e.open=g,e}function a(e){n("ENQUEUE",e[0].name,e[1]),b.default[t].push(e),c()}function l(){for(var e=Date.now(),i=0;i<b.default[t].length;++i)b.default[t][i].length>2&&(b.default[t][i][3]=e,b.default[t][i][4]=e);c()}function c(){if(clearTimeout(r),r=void 0,0!==b.default[t].length){var e=b.default[t].shift(),i=e[0],s=e[1],o=e[2],a=e[3],l=e[4];if(void 0===a)n("RETRY",i.name,s),i.apply(null,s);else if(Date.now()-a>=6e4){n("TIMEOUT",i.name,s);var u=s.pop();"function"==typeof u&&u.call(null,o)}else{var h=Date.now()-l,d=Math.max(l-a,1);h>=Math.min(1.2*d,100)?(n("RETRY",i.name,s),i.apply(null,s.concat([a]))):b.default[t].push(e)}void 0===r&&(r=setTimeout(c,0))}}I.default.debuglog?n=I.default.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(n=function(){var e=I.default.format.apply(I.default,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),b.default[t]||(s(b.default,C[t]||[]),b.default.close=function(e){function t(t,i){return e.call(b.default,t,function(e){e||l(),"function"==typeof i&&i.apply(this,arguments)})}return Object.defineProperty(t,i,{value:e}),t}(b.default.close),b.default.closeSync=function(e){function t(t){e.apply(b.default,arguments),l()}return Object.defineProperty(t,i,{value:e}),t}(b.default.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){n(b.default[t]),f.default.equal(b.default[t].length,0)})),C[t]||s(C,b.default[t]),e.exports=o(function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:Hi(e)};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}),t}(b.default)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!b.default.__patched&&(e.exports=o(b.default),b.default.__patched=!0)}),Wi={checkPath:function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(w.default.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},zi=k(function(e,t){const i=_i,s=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof Vi[e]);Object.assign(t,Vi),s.forEach(e=>{t[e]=i(Vi[e])}),t.exists=function(e,t){return"function"==typeof t?Vi.exists(e,t):new Promise(t=>Vi.exists(e,t))},t.read=function(e,t,i,s,r,n){return"function"==typeof n?Vi.read(e,t,i,s,r,n):new Promise((n,o)=>{Vi.read(e,t,i,s,r,(e,t,i)=>{if(e)return o(e);n({bytesRead:t,buffer:i})})})},t.write=function(e,t,...i){return"function"==typeof i[i.length-1]?Vi.write(e,t,...i):new Promise((s,r)=>{Vi.write(e,t,...i,(e,t,i)=>{if(e)return r(e);s({bytesWritten:t,buffer:i})})})},t.readv=function(e,t,...i){return"function"==typeof i[i.length-1]?Vi.readv(e,t,...i):new Promise((s,r)=>{Vi.readv(e,t,...i,(e,t,i)=>{if(e)return r(e);s({bytesRead:t,buffers:i})})})},t.writev=function(e,t,...i){return"function"==typeof i[i.length-1]?Vi.writev(e,t,...i):new Promise((s,r)=>{Vi.writev(e,t,...i,(e,t,i)=>{if(e)return r(e);s({bytesWritten:t,buffers:i})})})},"function"==typeof Vi.realpath.native?t.realpath.native=i(Vi.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}),Xi=Wi;const{checkPath:Yi}=Xi,Ki=e=>"number"==typeof e?e:{mode:511,...e}.mode;var Ji={makeDir:async(e,t)=>(Yi(e),zi.mkdir(e,{mode:Ki(t),recursive:!0})),makeDirSync:(e,t)=>(Yi(e),zi.mkdirSync(e,{mode:Ki(t),recursive:!0}))};const Zi=Fi,{makeDir:Qi,makeDirSync:es}=Ji,ts=Zi(Qi);var is={mkdirs:ts,mkdirsSync:es,mkdirp:ts,mkdirpSync:es,ensureDir:ts,ensureDirSync:es},ss={pathExists:Fi(function(e){return zi.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:zi.existsSync},rs={utimesMillis:Fi(async function(e,t,i){const s=await zi.open(e,"r+");let r=null;try{await zi.futimes(s,t,i)}finally{try{await zi.close(s)}catch(e){r=e}}if(r)throw r}),utimesMillisSync:function(e,t,i){const s=zi.openSync(e,"r+");return zi.futimesSync(s,t,i),zi.closeSync(s)}};const ns=Fi;function os(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function as(e,t){const i=w.default.resolve(e).split(w.default.sep).filter(e=>e),s=w.default.resolve(t).split(w.default.sep).filter(e=>e);return i.every((e,t)=>s[t]===e)}function ls(e,t,i){return`Cannot ${i} '${e}' to a subdirectory of itself, '${t}'.`}var cs={checkPaths:ns(async function(e,t,i,s){const{srcStat:r,destStat:n}=await function(e,t,i){const s=i.dereference?e=>zi.stat(e,{bigint:!0}):e=>zi.lstat(e,{bigint:!0});return Promise.all([s(e),s(t).catch(e=>{if("ENOENT"===e.code)return null;throw e})]).then(([e,t])=>({srcStat:e,destStat:t}))}(e,t,s);if(n){if(os(r,n)){const s=w.default.basename(e),o=w.default.basename(t);if("move"===i&&s!==o&&s.toLowerCase()===o.toLowerCase())return{srcStat:r,destStat:n,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(r.isDirectory()&&!n.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!r.isDirectory()&&n.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(r.isDirectory()&&as(e,t))throw new Error(ls(e,t,i));return{srcStat:r,destStat:n}}),checkPathsSync:function(e,t,i,s){const{srcStat:r,destStat:n}=function(e,t,i){let s;const r=i.dereference?e=>zi.statSync(e,{bigint:!0}):e=>zi.lstatSync(e,{bigint:!0}),n=r(e);try{s=r(t)}catch(e){if("ENOENT"===e.code)return{srcStat:n,destStat:null};throw e}return{srcStat:n,destStat:s}}(e,t,s);if(n){if(os(r,n)){const s=w.default.basename(e),o=w.default.basename(t);if("move"===i&&s!==o&&s.toLowerCase()===o.toLowerCase())return{srcStat:r,destStat:n,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(r.isDirectory()&&!n.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!r.isDirectory()&&n.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(r.isDirectory()&&as(e,t))throw new Error(ls(e,t,i));return{srcStat:r,destStat:n}},checkParentPaths:ns(async function e(t,i,s,r){const n=w.default.resolve(w.default.dirname(t)),o=w.default.resolve(w.default.dirname(s));if(o===n||o===w.default.parse(o).root)return;let a;try{a=await zi.stat(o,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(os(i,a))throw new Error(ls(t,s,r));return e(t,i,o,r)}),checkParentPathsSync:function e(t,i,s,r){const n=w.default.resolve(w.default.dirname(t)),o=w.default.resolve(w.default.dirname(s));if(o===n||o===w.default.parse(o).root)return;let a;try{a=zi.statSync(o,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(os(i,a))throw new Error(ls(t,s,r));return e(t,i,o,r)},isSrcSubdir:as,areIdentical:os},us=is,hs=ss,ds=rs,ps=cs;const{mkdirs:fs}=us,{pathExists:ms}=hs,{utimesMillis:ys}=ds;async function gs(e,t,i){return!i.filter||i.filter(e,t)}async function ws(e,t,i,s){const r=s.dereference?zi.stat:zi.lstat,n=await r(t);if(n.isDirectory())return async function(e,t,i,s,r){t||await zi.mkdir(s);const n=await zi.readdir(i);await Promise.all(n.map(async e=>{const t=w.default.join(i,e),n=w.default.join(s,e);if(!await gs(t,n,r))return;const{destStat:o}=await ps.checkPaths(t,n,"copy",r);return ws(o,t,n,r)})),t||await zi.chmod(s,e.mode)}(n,e,t,i,s);if(n.isFile()||n.isCharacterDevice()||n.isBlockDevice())return async function(e,t,i,s,r){if(!t)return bs(e,i,s,r);if(r.overwrite)return await zi.unlink(s),bs(e,i,s,r);if(r.errorOnExist)throw new Error(`'${s}' already exists`)}(n,e,t,i,s);if(n.isSymbolicLink())return async function(e,t,i,s){let r=await zi.readlink(t);if(s.dereference&&(r=w.default.resolve(process.cwd(),r)),!e)return zi.symlink(r,i);let n=null;try{n=await zi.readlink(i)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return zi.symlink(r,i);throw e}if(s.dereference&&(n=w.default.resolve(process.cwd(),n)),ps.isSrcSubdir(r,n))throw new Error(`Cannot copy '${r}' to a subdirectory of itself, '${n}'.`);if(ps.isSrcSubdir(n,r))throw new Error(`Cannot overwrite '${n}' with '${r}'.`);return await zi.unlink(i),zi.symlink(r,i)}(e,t,i,s);if(n.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(n.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}async function bs(e,t,i,s){if(await zi.copyFile(t,i),s.preserveTimestamps){0==(128&e.mode)&&await function(e,t){return zi.chmod(e,128|t)}(i,e.mode);const s=await zi.stat(t);await ys(i,s.atime,s.mtime)}return zi.chmod(i,e.mode)}const vs=us.mkdirsSync,Es=ds.utimesMillisSync;function Ss(e,t,i,s){const r=(s.dereference?Vi.statSync:Vi.lstatSync)(t);if(r.isDirectory())return function(e,t,i,s,r){return t?Os(i,s,r):function(e,t,i,s){return Vi.mkdirSync(i),Os(t,i,s),xs(i,e)}(e.mode,i,s,r)}(r,e,t,i,s);if(r.isFile()||r.isCharacterDevice()||r.isBlockDevice())return function(e,t,i,s,r){return t?function(e,t,i,s){if(s.overwrite)return Vi.unlinkSync(i),Is(e,t,i,s);if(s.errorOnExist)throw new Error(`'${i}' already exists`)}(e,i,s,r):Is(e,i,s,r)}(r,e,t,i,s);if(r.isSymbolicLink())return function(e,t,i,s){let r=Vi.readlinkSync(t);if(s.dereference&&(r=w.default.resolve(process.cwd(),r)),e){let e;try{e=Vi.readlinkSync(i)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return Vi.symlinkSync(r,i);throw e}if(s.dereference&&(e=w.default.resolve(process.cwd(),e)),ps.isSrcSubdir(r,e))throw new Error(`Cannot copy '${r}' to a subdirectory of itself, '${e}'.`);if(ps.isSrcSubdir(e,r))throw new Error(`Cannot overwrite '${e}' with '${r}'.`);return function(e,t){return Vi.unlinkSync(t),Vi.symlinkSync(e,t)}(r,i)}return Vi.symlinkSync(r,i)}(e,t,i,s);if(r.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(r.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function Is(e,t,i,s){return Vi.copyFileSync(t,i),s.preserveTimestamps&&function(e,t,i){(function(e){return 0==(128&e)})(e)&&function(e,t){xs(e,128|t)}(i,e),function(e,t){const i=Vi.statSync(e);Es(t,i.atime,i.mtime)}(t,i)}(e.mode,t,i),xs(i,e.mode)}function xs(e,t){return Vi.chmodSync(e,t)}function Os(e,t,i){Vi.readdirSync(e).forEach(s=>function(e,t,i,s){const r=w.default.join(t,e),n=w.default.join(i,e);if(s.filter&&!s.filter(r,n))return;const{destStat:o}=ps.checkPathsSync(r,n,"copy",s);return Ss(o,r,n,s)}(s,e,t,i))}var Rs={copy:Fi(async function(e,t,i={}){"function"==typeof i&&(i={filter:i}),i.clobber=!("clobber"in i)||!!i.clobber,i.overwrite="overwrite"in i?!!i.overwrite:i.clobber,i.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:s,destStat:r}=await ps.checkPaths(e,t,"copy",i);if(await ps.checkParentPaths(e,s,t,"copy"),!await gs(e,t,i))return;const n=w.default.dirname(t);await ms(n)||await fs(n),await ws(r,e,t,i)}),copySync:function(e,t,i){"function"==typeof i&&(i={filter:i}),(i=i||{}).clobber=!("clobber"in i)||!!i.clobber,i.overwrite="overwrite"in i?!!i.overwrite:i.clobber,i.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:s,destStat:r}=ps.checkPathsSync(e,t,"copy",i);if(ps.checkParentPathsSync(e,s,t,"copy"),i.filter&&!i.filter(e,t))return;const n=w.default.dirname(t);return Vi.existsSync(n)||vs(n),Ss(r,e,t,i)}},Cs={remove:_i(function(e,t){Vi.rm(e,{recursive:!0,force:!0},t)}),removeSync:function(e){Vi.rmSync(e,{recursive:!0,force:!0})}},ks=Cs;const Ts=Fi(async function(e){let t;try{t=await zi.readdir(e)}catch{return us.mkdirs(e)}return Promise.all(t.map(t=>ks.remove(w.default.join(e,t))))});function As(e){let t;try{t=zi.readdirSync(e)}catch{return us.mkdirsSync(e)}t.forEach(t=>{t=w.default.join(e,t),ks.removeSync(t)})}var Ps={emptyDirSync:As,emptydirSync:As,emptyDir:Ts,emptydir:Ts},Ns={createFile:Fi(async function(e){let t;try{t=await zi.stat(e)}catch{}if(t&&t.isFile())return;const i=w.default.dirname(e);let s=null;try{s=await zi.stat(i)}catch(t){if("ENOENT"===t.code)return await us.mkdirs(i),void await zi.writeFile(e,"");throw t}s.isDirectory()?await zi.writeFile(e,""):await zi.readdir(i)}),createFileSync:function(e){let t;try{t=zi.statSync(e)}catch{}if(t&&t.isFile())return;const i=w.default.dirname(e);try{zi.statSync(i).isDirectory()||zi.readdirSync(i)}catch(e){if(!e||"ENOENT"!==e.code)throw e;us.mkdirsSync(i)}zi.writeFileSync(e,"")}};const Ls=Fi,{pathExists:js}=hs,{areIdentical:$s}=ps;var Ds={createLink:Ls(async function(e,t){let i,s;try{i=await zi.lstat(t)}catch{}try{s=await zi.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}if(i&&$s(s,i))return;const r=w.default.dirname(t);await js(r)||await us.mkdirs(r),await zi.link(e,t)}),createLinkSync:function(e,t){let i;try{i=zi.lstatSync(t)}catch{}try{const t=zi.lstatSync(e);if(i&&$s(t,i))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const s=w.default.dirname(t);return zi.existsSync(s)||us.mkdirsSync(s),zi.linkSync(e,t)}};const{pathExists:_s}=hs;var Fs={symlinkPaths:Fi(async function(e,t){if(w.default.isAbsolute(e)){try{await zi.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:e}}const i=w.default.dirname(t),s=w.default.join(i,e);if(await _s(s))return{toCwd:s,toDst:e};try{await zi.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:w.default.relative(i,e)}}),symlinkPathsSync:function(e,t){if(w.default.isAbsolute(e)){if(!zi.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const i=w.default.dirname(t),s=w.default.join(i,e);if(zi.existsSync(s))return{toCwd:s,toDst:e};if(!zi.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:w.default.relative(i,e)}}},Ms={symlinkType:Fi(async function(e,t){if(t)return t;let i;try{i=await zi.lstat(e)}catch{return"file"}return i&&i.isDirectory()?"dir":"file"}),symlinkTypeSync:function(e,t){if(t)return t;let i;try{i=zi.lstatSync(e)}catch{return"file"}return i&&i.isDirectory()?"dir":"file"}};const Gs=Fi,{mkdirs:Bs,mkdirsSync:Us}=us,{symlinkPaths:qs,symlinkPathsSync:Hs}=Fs,{symlinkType:Vs,symlinkTypeSync:Ws}=Ms,{pathExists:zs}=hs,{areIdentical:Xs}=ps;var Ys=Ns,Ks=Ds,Js={createSymlink:Gs(async function(e,t,i){let s;try{s=await zi.lstat(t)}catch{}if(s&&s.isSymbolicLink()){const[i,s]=await Promise.all([zi.stat(e),zi.stat(t)]);if(Xs(i,s))return}const r=await qs(e,t);e=r.toDst;const n=await Vs(r.toCwd,i),o=w.default.dirname(t);return await zs(o)||await Bs(o),zi.symlink(e,t,n)}),createSymlinkSync:function(e,t,i){let s;try{s=zi.lstatSync(t)}catch{}if(s&&s.isSymbolicLink()){const i=zi.statSync(e),s=zi.statSync(t);if(Xs(i,s))return}const r=Hs(e,t);e=r.toDst,i=Ws(r.toCwd,i);const n=w.default.dirname(t);return zi.existsSync(n)||Us(n),zi.symlinkSync(e,t,i)}};const{createFile:Zs,createFileSync:Qs}=Ys,{createLink:er,createLinkSync:tr}=Ks,{createSymlink:ir,createSymlinkSync:sr}=Js;var rr={createFile:Zs,createFileSync:Qs,ensureFile:Zs,ensureFileSync:Qs,createLink:er,createLinkSync:tr,ensureLink:er,ensureLinkSync:tr,createSymlink:ir,createSymlinkSync:sr,ensureSymlink:ir,ensureSymlinkSync:sr},nr={stringify:function(e,t={}){const i=t.EOL||"\n";return JSON.stringify(e,t?t.replacer:null,t.spaces).replace(/\n/g,i)+i},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}},or=function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((i,s)=>{e.apply(this,t.concat([(e,t)=>e?s(e):i(t)]))});e.apply(this,t)},"name",{value:e.name})},ar=function(e){return Object.defineProperty(function(...t){const i=t[t.length-1];if("function"!=typeof i)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(e=>i(null,e),i)},"name",{value:e.name})};let lr;try{lr=Vi}catch(e){lr=b.default}const{stringify:cr,stripBom:ur}=nr,hr=ar(async function(e,t={}){"string"==typeof t&&(t={encoding:t});const i=t.fs||lr,s=!("throws"in t)||t.throws;let r,n=await or(i.readFile)(e,t);n=ur(n);try{r=JSON.parse(n,t?t.reviver:null)}catch(t){if(s)throw t.message=`${e}: ${t.message}`,t;return null}return r}),dr=ar(async function(e,t,i={}){const s=i.fs||lr,r=cr(t,i);await or(s.writeFile)(e,r,i)}),pr={readFile:hr,readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const i=t.fs||lr,s=!("throws"in t)||t.throws;try{let s=i.readFileSync(e,t);return s=ur(s),JSON.parse(s,t.reviver)}catch(t){if(s)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:dr,writeFileSync:function(e,t,i={}){const s=i.fs||lr,r=cr(t,i);return s.writeFileSync(e,r,i)}};var fr={readJson:pr.readFile,readJsonSync:pr.readFileSync,writeJson:pr.writeFile,writeJsonSync:pr.writeFileSync};const mr=hs.pathExists;var yr={outputFile:Fi(async function(e,t,i="utf-8"){const s=w.default.dirname(e);return await mr(s)||await us.mkdirs(s),zi.writeFile(e,t,i)}),outputFileSync:function(e,...t){const i=w.default.dirname(e);zi.existsSync(i)||us.mkdirsSync(i),zi.writeFileSync(e,...t)}},gr=yr;const{stringify:wr}=nr,{outputFile:br}=gr,{stringify:vr}=nr,{outputFileSync:Er}=gr;var Sr=fr;Sr.outputJson=Fi(async function(e,t,i={}){const s=wr(t,i);await br(e,s,i)}),Sr.outputJsonSync=function(e,t,i){const s=vr(t,i);Er(e,s,i)},Sr.outputJSON=Sr.outputJson,Sr.outputJSONSync=Sr.outputJsonSync,Sr.writeJSON=Sr.writeJson,Sr.writeJSONSync=Sr.writeJsonSync,Sr.readJSON=Sr.readJson,Sr.readJSONSync=Sr.readJsonSync;var Ir=Sr,xr=Rs;const{copy:Or}=xr,{remove:Rr}=ks,{mkdirp:Cr}=us,{pathExists:kr}=hs,Tr=xr.copySync,Ar=ks.removeSync,Pr=us.mkdirpSync;function Nr(e,t,i){try{Vi.renameSync(e,t)}catch(s){if("EXDEV"!==s.code)throw s;return function(e,t,i){return Tr(e,t,{overwrite:i,errorOnExist:!0,preserveTimestamps:!0}),Ar(e)}(e,t,i)}}var Lr=Ps,jr=rr,$r=Ir,Dr={move:Fi(async function(e,t,i={}){const s=i.overwrite||i.clobber||!1,{srcStat:r,isChangingCase:n=!1}=await ps.checkPaths(e,t,"move",i);await ps.checkParentPaths(e,r,t,"move");const o=w.default.dirname(t);return w.default.parse(o).root!==o&&await Cr(o),async function(e,t,i,s){if(!s)if(i)await Rr(t);else if(await kr(t))throw new Error("dest already exists.");try{await zi.rename(e,t)}catch(s){if("EXDEV"!==s.code)throw s;await async function(e,t,i){const s={overwrite:i,errorOnExist:!0,preserveTimestamps:!0};return await Or(e,t,s),Rr(e)}(e,t,i)}}(e,t,s,n)}),moveSync:function(e,t,i){const s=(i=i||{}).overwrite||i.clobber||!1,{srcStat:r,isChangingCase:n=!1}=ps.checkPathsSync(e,t,"move",i);return ps.checkParentPathsSync(e,r,t,"move"),function(e){const t=w.default.dirname(e);return w.default.parse(t).root===t}(t)||Pr(w.default.dirname(t)),function(e,t,i,s){if(s)return Nr(e,t,i);if(i)return Ar(t),Nr(e,t,i);if(Vi.existsSync(t))throw new Error("dest already exists.");return Nr(e,t,i)}(e,t,s,n)}},_r={...zi,...xr,...Lr,...jr,...$r,...us,...Dr,...gr,...hs,...ks},Fr=_r;const Mr={info:e=>console.log(e),verbose:e=>console.log(e),log:e=>console.log(e),success:e=>console.log(N.green(N.symbols.check+" ")+e),error:e=>console.error(N.red(N.symbols.cross+" ")+e),panic:e=>{console.error(e),process.exit(1)},warn:e=>console.warn(N.yellow(e))},Gr="win32"===process.platform?["-","\\","|","/"]:["‚†ã","‚†ô","‚†π","‚†∏","‚†º","‚†¥","‚†¶","‚†ß","‚†á","‚†è"],Br=process.stderr;var Ur=k(function(e,t){var i;t=e.exports=d,i="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var s=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=t.re=[],o=t.src=[],a=t.tokens={},l=0;function c(e){a[e]=l++}c("NUMERICIDENTIFIER"),o[a.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),o[a.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),o[a.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),o[a.MAINVERSION]="("+o[a.NUMERICIDENTIFIER]+")\\.("+o[a.NUMERICIDENTIFIER]+")\\.("+o[a.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),o[a.MAINVERSIONLOOSE]="("+o[a.NUMERICIDENTIFIERLOOSE]+")\\.("+o[a.NUMERICIDENTIFIERLOOSE]+")\\.("+o[a.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),o[a.PRERELEASEIDENTIFIER]="(?:"+o[a.NUMERICIDENTIFIER]+"|"+o[a.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),o[a.PRERELEASEIDENTIFIERLOOSE]="(?:"+o[a.NUMERICIDENTIFIERLOOSE]+"|"+o[a.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),o[a.PRERELEASE]="(?:-("+o[a.PRERELEASEIDENTIFIER]+"(?:\\."+o[a.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),o[a.PRERELEASELOOSE]="(?:-?("+o[a.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+o[a.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),o[a.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),o[a.BUILD]="(?:\\+("+o[a.BUILDIDENTIFIER]+"(?:\\."+o[a.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),o[a.FULLPLAIN]="v?"+o[a.MAINVERSION]+o[a.PRERELEASE]+"?"+o[a.BUILD]+"?",o[a.FULL]="^"+o[a.FULLPLAIN]+"$",c("LOOSEPLAIN"),o[a.LOOSEPLAIN]="[v=\\s]*"+o[a.MAINVERSIONLOOSE]+o[a.PRERELEASELOOSE]+"?"+o[a.BUILD]+"?",c("LOOSE"),o[a.LOOSE]="^"+o[a.LOOSEPLAIN]+"$",c("GTLT"),o[a.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),o[a.XRANGEIDENTIFIERLOOSE]=o[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),o[a.XRANGEIDENTIFIER]=o[a.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),o[a.XRANGEPLAIN]="[v=\\s]*("+o[a.XRANGEIDENTIFIER]+")(?:\\.("+o[a.XRANGEIDENTIFIER]+")(?:\\.("+o[a.XRANGEIDENTIFIER]+")(?:"+o[a.PRERELEASE]+")?"+o[a.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),o[a.XRANGEPLAINLOOSE]="[v=\\s]*("+o[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+o[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+o[a.XRANGEIDENTIFIERLOOSE]+")(?:"+o[a.PRERELEASELOOSE]+")?"+o[a.BUILD]+"?)?)?",c("XRANGE"),o[a.XRANGE]="^"+o[a.GTLT]+"\\s*"+o[a.XRANGEPLAIN]+"$",c("XRANGELOOSE"),o[a.XRANGELOOSE]="^"+o[a.GTLT]+"\\s*"+o[a.XRANGEPLAINLOOSE]+"$",c("COERCE"),o[a.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),n[a.COERCERTL]=new RegExp(o[a.COERCE],"g"),c("LONETILDE"),o[a.LONETILDE]="(?:~>?)",c("TILDETRIM"),o[a.TILDETRIM]="(\\s*)"+o[a.LONETILDE]+"\\s+",n[a.TILDETRIM]=new RegExp(o[a.TILDETRIM],"g"),c("TILDE"),o[a.TILDE]="^"+o[a.LONETILDE]+o[a.XRANGEPLAIN]+"$",c("TILDELOOSE"),o[a.TILDELOOSE]="^"+o[a.LONETILDE]+o[a.XRANGEPLAINLOOSE]+"$",c("LONECARET"),o[a.LONECARET]="(?:\\^)",c("CARETTRIM"),o[a.CARETTRIM]="(\\s*)"+o[a.LONECARET]+"\\s+",n[a.CARETTRIM]=new RegExp(o[a.CARETTRIM],"g"),c("CARET"),o[a.CARET]="^"+o[a.LONECARET]+o[a.XRANGEPLAIN]+"$",c("CARETLOOSE"),o[a.CARETLOOSE]="^"+o[a.LONECARET]+o[a.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),o[a.COMPARATORLOOSE]="^"+o[a.GTLT]+"\\s*("+o[a.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),o[a.COMPARATOR]="^"+o[a.GTLT]+"\\s*("+o[a.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),o[a.COMPARATORTRIM]="(\\s*)"+o[a.GTLT]+"\\s*("+o[a.LOOSEPLAIN]+"|"+o[a.XRANGEPLAIN]+")",n[a.COMPARATORTRIM]=new RegExp(o[a.COMPARATORTRIM],"g"),c("HYPHENRANGE"),o[a.HYPHENRANGE]="^\\s*("+o[a.XRANGEPLAIN]+")\\s+-\\s+("+o[a.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),o[a.HYPHENRANGELOOSE]="^\\s*("+o[a.XRANGEPLAINLOOSE]+")\\s+-\\s+("+o[a.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),o[a.STAR]="(<|>)?=?\\s*\\*";for(var u=0;u<l;u++)i(u,o[u]),n[u]||(n[u]=new RegExp(o[u]));function h(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof d)return e;if("string"!=typeof e)return null;if(e.length>s)return null;if(!(t.loose?n[a.LOOSE]:n[a.FULL]).test(e))return null;try{return new d(e,t)}catch(e){return null}}function d(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof d){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>s)throw new TypeError("version is longer than "+s+" characters");if(!(this instanceof d))return new d(e,t);i("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?n[a.LOOSE]:n[a.FULL]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=o[4]?o[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e}):[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=h,t.valid=function(e,t){var i=h(e,t);return i?i.version:null},t.clean=function(e,t){var i=h(e.trim().replace(/^[=v]+/,""),t);return i?i.version:null},t.SemVer=d,d.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},d.prototype.toString=function(){return this.version},d.prototype.compare=function(e){return i("SemVer.compare",this.version,this.options,e),e instanceof d||(e=new d(e,this.options)),this.compareMain(e)||this.comparePre(e)},d.prototype.compareMain=function(e){return e instanceof d||(e=new d(e,this.options)),f(this.major,e.major)||f(this.minor,e.minor)||f(this.patch,e.patch)},d.prototype.comparePre=function(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var s=this.prerelease[t],r=e.prerelease[t];if(i("prerelease compare",t,s,r),void 0===s&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===s)return-1;if(s!==r)return f(s,r)}while(++t)},d.prototype.compareBuild=function(e){e instanceof d||(e=new d(e,this.options));var t=0;do{var s=this.build[t],r=e.build[t];if(i("prerelease compare",t,s,r),void 0===s&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===s)return-1;if(s!==r)return f(s,r)}while(++t)},d.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var i=this.prerelease.length;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);-1===i&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,i,s){"string"==typeof i&&(s=i,i=void 0);try{return new d(e,i).inc(t,s).version}catch(e){return null}},t.diff=function(e,t){if(w(e,t))return null;var i=h(e),s=h(t),r="";if(i.prerelease.length||s.prerelease.length){r="pre";var n="prerelease"}for(var o in i)if(("major"===o||"minor"===o||"patch"===o)&&i[o]!==s[o])return r+o;return n},t.compareIdentifiers=f;var p=/^[0-9]+$/;function f(e,t){var i=p.test(e),s=p.test(t);return i&&s&&(e=+e,t=+t),e===t?0:i&&!s?-1:s&&!i?1:e<t?-1:1}function m(e,t,i){return new d(e,i).compare(new d(t,i))}function y(e,t,i){return m(e,t,i)>0}function g(e,t,i){return m(e,t,i)<0}function w(e,t,i){return 0===m(e,t,i)}function b(e,t,i){return 0!==m(e,t,i)}function v(e,t,i){return m(e,t,i)>=0}function E(e,t,i){return m(e,t,i)<=0}function S(e,t,i,s){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return w(e,i,s);case"!=":return b(e,i,s);case">":return y(e,i,s);case">=":return v(e,i,s);case"<":return g(e,i,s);case"<=":return E(e,i,s);default:throw new TypeError("Invalid operator: "+t)}}function I(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof I){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof I))return new I(e,t);i("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.value=this.semver===x?"":this.operator+this.semver.version,i("comp",this)}t.rcompareIdentifiers=function(e,t){return f(t,e)},t.major=function(e,t){return new d(e,t).major},t.minor=function(e,t){return new d(e,t).minor},t.patch=function(e,t){return new d(e,t).patch},t.compare=m,t.compareLoose=function(e,t){return m(e,t,!0)},t.compareBuild=function(e,t,i){var s=new d(e,i),r=new d(t,i);return s.compare(r)||s.compareBuild(r)},t.rcompare=function(e,t,i){return m(t,e,i)},t.sort=function(e,i){return e.sort(function(e,s){return t.compareBuild(e,s,i)})},t.rsort=function(e,i){return e.sort(function(e,s){return t.compareBuild(s,e,i)})},t.gt=y,t.lt=g,t.eq=w,t.neq=b,t.gte=v,t.lte=E,t.cmp=S,t.Comparator=I;var x={};function O(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof O)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new O(e.raw,t);if(e instanceof I)return new O(e.value,t);if(!(this instanceof O))return new O(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function R(e,t){for(var i=!0,s=e.slice(),r=s.pop();i&&s.length;)i=s.every(function(e){return r.intersects(e,t)}),r=s.pop();return i}function C(e){return!e||"x"===e.toLowerCase()||"*"===e}function k(e,t,i,s,r,n,o,a,l,c,u,h,d){return((t=C(i)?"":C(s)?">="+i+".0.0":C(r)?">="+i+"."+s+".0":">="+t)+" "+(a=C(l)?"":C(c)?"<"+(+l+1)+".0.0":C(u)?"<"+l+"."+(+c+1)+".0":h?"<="+l+"."+c+"."+u+"-"+h:"<="+a)).trim()}function T(e,t,s){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!s.includePrerelease){for(r=0;r<e.length;r++)if(i(e[r].semver),e[r].semver!==x&&e[r].semver.prerelease.length>0){var n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}function A(e,t,i){try{t=new O(t,i)}catch(e){return!1}return t.test(e)}function P(e,t,i,s){var r,n,o,a,l;switch(e=new d(e,s),t=new O(t,s),i){case">":r=y,n=E,o=g,a=">",l=">=";break;case"<":r=g,n=v,o=y,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(A(e,t,s))return!1;for(var c=0;c<t.set.length;++c){var u=null,h=null;if(t.set[c].forEach(function(e){e.semver===x&&(e=new I(">=0.0.0")),h=h||e,r(e.semver,(u=u||e).semver,s)?u=e:o(e.semver,h.semver,s)&&(h=e)}),u.operator===a||u.operator===l)return!1;if((!h.operator||h.operator===a)&&n(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0}I.prototype.parse=function(e){var t=e.match(this.options.loose?n[a.COMPARATORLOOSE]:n[a.COMPARATOR]);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),this.semver=t[2]?new d(t[2],this.options.loose):x},I.prototype.toString=function(){return this.value},I.prototype.test=function(e){if(i("Comparator.test",e,this.options.loose),this.semver===x||e===x)return!0;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}return S(e,this.operator,this.semver,this.options)},I.prototype.intersects=function(e,t){if(!(e instanceof I))throw new TypeError("a Comparator is required");var i;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(i=new O(e.value,t),A(this.value,i,t));if(""===e.operator)return""===e.value||(i=new O(this.value,t),A(e.semver,i,t));var s=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),n=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=S(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=S(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return s||r||n&&o||a||l},t.Range=O,O.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},O.prototype.toString=function(){return this.range},O.prototype.parseRange=function(e){var t=this.options.loose;e=(e=e.trim()).replace(t?n[a.HYPHENRANGELOOSE]:n[a.HYPHENRANGE],k),i("hyphen replace",e),e=e.replace(n[a.COMPARATORTRIM],"$1$2$3"),i("comparator trim",e,n[a.COMPARATORTRIM]),e=(e=(e=e.replace(n[a.TILDETRIM],"$1~")).replace(n[a.CARETTRIM],"$1^")).split(/\s+/).join(" ");var s=t?n[a.COMPARATORLOOSE]:n[a.COMPARATOR],r=e.split(" ").map(function(e){return function(e,t){return i("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){return i("caret",e,t),e.replace(t.loose?n[a.CARETLOOSE]:n[a.CARET],function(t,s,r,n,o){var a;return i("caret",e,t,s,r,n,o),C(s)?a="":C(r)?a=">="+s+".0.0 <"+(+s+1)+".0.0":C(n)?a="0"===s?">="+s+"."+r+".0 <"+s+"."+(+r+1)+".0":">="+s+"."+r+".0 <"+(+s+1)+".0.0":o?(i("replaceCaret pr",o),a="0"===s?"0"===r?">="+s+"."+r+"."+n+"-"+o+" <"+s+"."+r+"."+(+n+1):">="+s+"."+r+"."+n+"-"+o+" <"+s+"."+(+r+1)+".0":">="+s+"."+r+"."+n+"-"+o+" <"+(+s+1)+".0.0"):(i("no pr"),a="0"===s?"0"===r?">="+s+"."+r+"."+n+" <"+s+"."+r+"."+(+n+1):">="+s+"."+r+"."+n+" <"+s+"."+(+r+1)+".0":">="+s+"."+r+"."+n+" <"+(+s+1)+".0.0"),i("caret return",a),a})}(e,t)}).join(" ")}(e,t),i("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){return e.replace(t.loose?n[a.TILDELOOSE]:n[a.TILDE],function(t,s,r,n,o){var a;return i("tilde",e,t,s,r,n,o),C(s)?a="":C(r)?a=">="+s+".0.0 <"+(+s+1)+".0.0":C(n)?a=">="+s+"."+r+".0 <"+s+"."+(+r+1)+".0":o?(i("replaceTilde pr",o),a=">="+s+"."+r+"."+n+"-"+o+" <"+s+"."+(+r+1)+".0"):a=">="+s+"."+r+"."+n+" <"+s+"."+(+r+1)+".0",i("tilde return",a),a})}(e,t)}).join(" ")}(e,t),i("tildes",e),e=function(e,t){return i("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){return(e=e.trim()).replace(t.loose?n[a.XRANGELOOSE]:n[a.XRANGE],function(s,r,n,o,a,l){i("xRange",e,s,r,n,o,a,l);var c=C(n),u=c||C(o),h=u||C(a);return"="===r&&h&&(r=""),l=t.includePrerelease?"-0":"",c?s=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(u&&(o=0),a=0,">"===r?(r=">=",u?(n=+n+1,o=0,a=0):(o=+o+1,a=0)):"<="===r&&(r="<",u?n=+n+1:o=+o+1),s=r+n+"."+o+"."+a+l):u?s=">="+n+".0.0"+l+" <"+(+n+1)+".0.0"+l:h&&(s=">="+n+"."+o+".0"+l+" <"+n+"."+(+o+1)+".0"+l),i("xRange return",s),s})}(e,t)}).join(" ")}(e,t),i("xrange",e),e=function(e,t){return i("replaceStars",e,t),e.trim().replace(n[a.STAR],"")}(e,t),i("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(r=r.filter(function(e){return!!e.match(s)})),r.map(function(e){return new I(e,this.options)},this)},O.prototype.intersects=function(e,t){if(!(e instanceof O))throw new TypeError("a Range is required");return this.set.some(function(i){return R(i,t)&&e.set.some(function(e){return R(e,t)&&i.every(function(i){return e.every(function(e){return i.intersects(e,t)})})})})},t.toComparators=function(e,t){return new O(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},O.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1},t.satisfies=A,t.maxSatisfying=function(e,t,i){var s=null,r=null;try{var n=new O(t,i)}catch(e){return null}return e.forEach(function(e){n.test(e)&&(s&&-1!==r.compare(e)||(r=new d(s=e,i)))}),s},t.minSatisfying=function(e,t,i){var s=null,r=null;try{var n=new O(t,i)}catch(e){return null}return e.forEach(function(e){n.test(e)&&(s&&1!==r.compare(e)||(r=new d(s=e,i)))}),s},t.minVersion=function(e,t){e=new O(e,t);var i=new d("0.0.0");if(e.test(i))return i;if(i=new d("0.0.0-0"),e.test(i))return i;i=null;for(var s=0;s<e.set.length;++s)e.set[s].forEach(function(e){var t=new d(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!y(i,t)||(i=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}});return i&&e.test(i)?i:null},t.validRange=function(e,t){try{return new O(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,i){return P(e,t,"<",i)},t.gtr=function(e,t,i){return P(e,t,">",i)},t.outside=P,t.prerelease=function(e,t){var i=h(e,t);return i&&i.prerelease.length?i.prerelease:null},t.intersects=function(e,t,i){return e=new O(e,i),t=new O(t,i),e.intersects(t)},t.coerce=function(e,t){if(e instanceof d)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;var i=null;if((t=t||{}).rtl){for(var s;(s=n[a.COERCERTL].exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&s.index+s[0].length===i.index+i[0].length||(i=s),n[a.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;n[a.COERCERTL].lastIndex=-1}else i=e.match(n[a.COERCE]);return null===i?null:h(i[2]+"."+(i[3]||"0")+"."+(i[4]||"0"),t)}});const{promisify:qr}=I.default,Hr=Ur.satisfies(process.version,">=10.12.0"),Vr=e=>{if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(w.default.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}},Wr=e=>({mode:511,fs:b.default,...e}),zr=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};var Xr=async(e,t)=>{Vr(e),t=Wr(t);const i=qr(t.fs.mkdir),s=qr(t.fs.stat);if(Hr&&t.fs.mkdir===b.default.mkdir){const s=w.default.resolve(e);return await i(s,{mode:t.mode,recursive:!0}),s}const r=async e=>{try{return await i(e,t.mode),e}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(w.default.dirname(e)===e)throw zr(e);if(t.message.includes("null bytes"))throw t;return await r(w.default.dirname(e)),r(e)}try{if(!(await s(e)).isDirectory())throw new Error("The path is not a directory")}catch(e){throw t}return e}};return r(w.default.resolve(e))};Xr.sync=(e,t)=>{if(Vr(e),t=Wr(t),Hr&&t.fs.mkdirSync===b.default.mkdirSync){const i=w.default.resolve(e);return b.default.mkdirSync(i,{mode:t.mode,recursive:!0}),i}const i=e=>{try{t.fs.mkdirSync(e,t.mode)}catch(s){if("EPERM"===s.code)throw s;if("ENOENT"===s.code){if(w.default.dirname(e)===e)throw zr(e);if(s.message.includes("null bytes"))throw s;return i(w.default.dirname(e)),i(e)}try{if(!t.fs.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch(e){throw s}}return e};return i(w.default.resolve(e))};var Yr=k(function(e,t){const i=v.default.homedir(),{env:s}=process;t.data=s.XDG_DATA_HOME||(i?w.default.join(i,".local","share"):void 0),t.config=s.XDG_CONFIG_HOME||(i?w.default.join(i,".config"):void 0),t.cache=s.XDG_CACHE_HOME||(i?w.default.join(i,".cache"):void 0),t.runtime=s.XDG_RUNTIME_DIR||void 0,t.dataDirs=(s.XDG_DATA_DIRS||"/usr/local/share/:/usr/share/").split(":"),t.data&&t.dataDirs.unshift(t.data),t.configDirs=(s.XDG_CONFIG_DIRS||"/etc/xdg").split(":"),t.config&&t.configDirs.unshift(t.config)}),Kr=k(function(e){!function(){var t;function i(e,s){var r=this instanceof i?this:t;if(r.reset(s),"string"==typeof e&&e.length>0&&r.hash(e),r!==this)return r}i.prototype.hash=function(e){var t,i,s,r,n;switch(this.len+=n=e.length,i=this.k1,s=0,this.rem){case 0:i^=n>s?65535&e.charCodeAt(s++):0;case 1:i^=n>s?(65535&e.charCodeAt(s++))<<8:0;case 2:i^=n>s?(65535&e.charCodeAt(s++))<<16:0;case 3:i^=n>s?(255&e.charCodeAt(s))<<24:0,i^=n>s?(65280&e.charCodeAt(s++))>>8:0}if(this.rem=n+this.rem&3,(n-=this.rem)>0){for(t=this.h1;t=5*(t=(t^=i=13715*(i=(i=11601*i+3432906752*(65535&i)&4294967295)<<15|i>>>17)+461832192*(65535&i)&4294967295)<<13|t>>>19)+3864292196&4294967295,!(s>=n);)i=65535&e.charCodeAt(s++)^(65535&e.charCodeAt(s++))<<8^(65535&e.charCodeAt(s++))<<16,i^=(255&(r=e.charCodeAt(s++)))<<24^(65280&r)>>8;switch(i=0,this.rem){case 3:i^=(65535&e.charCodeAt(s+2))<<16;case 2:i^=(65535&e.charCodeAt(s+1))<<8;case 1:i^=65535&e.charCodeAt(s)}this.h1=t}return this.k1=i,this},i.prototype.result=function(){var e,t;return t=this.h1,(e=this.k1)>0&&(t^=e=13715*(e=(e=11601*e+3432906752*(65535&e)&4294967295)<<15|e>>>17)+461832192*(65535&e)&4294967295),t^=this.len,t=51819*(t^=t>>>16)+2246770688*(65535&t)&4294967295,t=44597*(t^=t>>>13)+3266445312*(65535&t)&4294967295,(t^=t>>>16)>>>0},i.prototype.reset=function(e){return this.h1="number"==typeof e?e:0,this.rem=this.k1=this.len=0,this},t=new i,e.exports=i}()}),Jr=en;en.strict=tn,en.loose=sn;var Zr=Object.prototype.toString,Qr={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function en(e){return tn(e)||sn(e)}function tn(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function sn(e){return Qr[Zr.call(e)]}var rn=Jr.strict,nn=function(e){if(rn(e)){var t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}return Buffer.from(e)},on=function(e,t,i,s){i instanceof Function&&(s=i,i={});const r=async function(e,t,i={}){let s,r;"string"==typeof i&&(i={encoding:i});const n=Yt(fn(()=>r)),o=w.default.resolve(e);try{await function(e){return new Promise(t=>{un[e]||(un[e]=[]),un[e].push(t),1===un[e].length&&t()})}(o);const n=await cn(b.default.realpath)(e).catch(()=>e);if(r=pn(n),!i.mode||!i.chown){const e=await cn(b.default.stat)(n).catch(()=>{});e&&(null==i.mode&&(i.mode=e.mode),null==i.chown&&process.getuid&&(i.chown={uid:e.uid,gid:e.gid}))}s=await cn(b.default.open)(r,"w",i.mode),i.tmpfileCreated&&await i.tmpfileCreated(r),Jr(t)&&(t=nn(t)),Buffer.isBuffer(t)?await cn(b.default.write)(s,t,0,t.length,0):null!=t&&await cn(b.default.write)(s,String(t),0,String(i.encoding||"utf8")),!1!==i.fsync&&await cn(b.default.fsync)(s),await cn(b.default.close)(s),s=null,i.chown&&await cn(b.default.chown)(r,i.chown.uid,i.chown.gid).catch(e=>{if(!mn(e))throw e}),i.mode&&await cn(b.default.chmod)(r,i.mode).catch(e=>{if(!mn(e))throw e}),await cn(b.default.rename)(r,n)}finally{s&&await cn(b.default.close)(s).catch(()=>{}),n(),await cn(b.default.unlink)(r).catch(()=>{}),un[o].shift(),un[o].length>0?un[o][0]():delete un[o]}}(e,t,i);return s&&r.then(s,s),r},an=pn,ln=fn;const{promisify:cn}=I.default,un={},hn=function(){try{return 0}catch(e){return 0}}();let dn=0;function pn(e){return e+"."+Kr(__filename).hash(String(process.pid)).hash(String(hn)).hash(String(++dn)).result()}function fn(e){return()=>{try{b.default.unlinkSync("function"==typeof e?e():e)}catch(e){}}}function mn(e){return"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}on.sync=function(e,t,i){"string"==typeof i?i={encoding:i}:i||(i={});try{e=b.default.realpathSync(e)}catch(e){}const s=pn(e);if(!i.mode||!i.chown)try{const t=b.default.statSync(e);(i=Object.assign({},i)).mode||(i.mode=t.mode),!i.chown&&process.getuid&&(i.chown={uid:t.uid,gid:t.gid})}catch(e){}let r;const n=fn(s),o=Yt(n);let a=!0;try{if(r=b.default.openSync(s,"w",i.mode||438),i.tmpfileCreated&&i.tmpfileCreated(s),Jr(t)&&(t=nn(t)),Buffer.isBuffer(t)?b.default.writeSync(r,t,0,t.length,0):null!=t&&b.default.writeSync(r,String(t),0,String(i.encoding||"utf8")),!1!==i.fsync&&b.default.fsyncSync(r),b.default.closeSync(r),r=null,i.chown)try{b.default.chownSync(s,i.chown.uid,i.chown.gid)}catch(e){if(!mn(e))throw e}if(i.mode)try{b.default.chmodSync(s,i.mode)}catch(e){if(!mn(e))throw e}b.default.renameSync(s,e),a=!1}finally{if(r)try{b.default.closeSync(r)}catch(e){}o(),a&&n()}},on._getTmpname=an,on._cleanupOnExit=ln;var yn=e=>{const t=typeof e;return null!==e&&("object"===t||"function"===t)};const gn=["__proto__","prototype","constructor"];function wn(e){const t=e.split("."),i=[];for(let e=0;e<t.length;e++){let s=t[e];for(;"\\"===s[s.length-1]&&void 0!==t[e+1];)s=s.slice(0,-1)+".",s+=t[++e];i.push(s)}return i.some(e=>gn.includes(e))?[]:i}var bn={get(e,t,i){if(!yn(e)||"string"!=typeof t)return void 0===i?e:i;const s=wn(t);if(0!==s.length){for(let t=0;t<s.length;t++){if(!Object.prototype.propertyIsEnumerable.call(e,s[t]))return i;if(null==(e=e[s[t]])){if(t!==s.length-1)return i;break}}return e}},set(e,t,i){if(!yn(e)||"string"!=typeof t)return e;const s=e,r=wn(t);for(let t=0;t<r.length;t++){const s=r[t];yn(e[s])||(e[s]={}),t===r.length-1&&(e[s]=i),e=e[s]}return s},delete(e,t){if(!yn(e)||"string"!=typeof t)return!1;const i=wn(t);for(let t=0;t<i.length;t++){const s=i[t];if(t===i.length-1)return delete e[s],!0;if(!yn(e=e[s]))return!1}},has(e,t){if(!yn(e)||"string"!=typeof t)return!1;const i=wn(t);if(0===i.length)return!1;for(let t=0;t<i.length;t++){if(!yn(e))return!1;if(!(i[t]in e))return!1;e=e[i[t]]}return!0}};const vn=Yr.config||w.default.join(v.default.tmpdir(),(e=>{if(!Number.isFinite(32))throw new TypeError("Expected a finite number");return O.default.randomBytes(Math.ceil(16)).toString("hex").slice(0,32)})()),En="You don't have access to this file.",Sn={mode:448},In={mode:384};let xn;const On=(e=1)=>new Promise(t=>{process.stderr.moveCursor(0,-e,()=>{process.stderr.write("[2K"),t()})}),Rn="cli.packageManager",Cn=e=>{const t=(xn||(xn=new class{constructor(e,t,i={}){const s=i.globalConfigPath?w.default.join(e,"config.json"):w.default.join("configstore",`${e}.json`);this.path=i.configPath||w.default.join(vn,s),t&&(this.all={...t,...this.all})}get all(){try{return JSON.parse(Vi.readFileSync(this.path,"utf8"))}catch(e){if("ENOENT"===e.code)return{};if("EACCES"===e.code&&(e.message=`${e.message}\n${En}\n`),"SyntaxError"===e.name)return on.sync(this.path,"",In),{};throw e}}set all(e){try{Xr.sync(w.default.dirname(this.path),Sn),on.sync(this.path,JSON.stringify(e,void 0,"\t"),In)}catch(e){throw"EACCES"===e.code&&(e.message=`${e.message}\n${En}\n`),e}}get size(){return Object.keys(this.all||{}).length}get(e){return bn.get(this.all,e)}set(e,t){const i=this.all;if(1===arguments.length)for(const t of Object.keys(e))bn.set(i,t,e[t]);else bn.set(i,e,t);this.all=i}has(e){return bn.has(this.all,e)}delete(e){const t=this.all;bn.delete(t,e),this.all=t}clear(){this.all={}}}("gatsby",{},{globalConfigPath:!0})),xn);return t.get(Rn)||(null!=e&&e.includes("yarn")?(t.set(Rn,"yarn"),"yarn"):(t.set(Rn,"npm"),"npm"))};async function kn({source:e,targetPath:t}){const i=await _r.readFile(e);await _r.outputFile(t,i)}const Tn=(e,t)=>require.resolve(e,t),An=e=>null!=e&&"object"!=typeof e&&"function"!=typeof e;class Pn extends Xe.Form{async renderChoice(e,t){await this.onChoice(e,t);const{state:i,styles:s}=this;let{cursor:r,initial:n="",name:o,input:a=""}=e;const{muted:l,submitted:c,primary:u,danger:h}=s,d=this.index===t,p=e.validate||(()=>!0),f=await this.choiceSeparator(e,t);let m=e.message;"right"===this.align&&(m=m.padStart(this.longest+1," ")),"left"===this.align&&(m=m.padEnd(this.longest+1," "));const y=this.values[o]=a||n;let g=a?"success":"dark";!0!==await p.call(e,y,this.state)&&(g="danger");const w=(0,s[g])(await this.indicator(e,t))+(e.pad||""),b=this.indent(e),v=()=>[b,w,m+f,a].filter(Boolean).join(" ");return i.submitted?(m=N.unstyle(m),a=c(a),v()):(a=e.format?await e.format.call(this,a,e,t):((e,t={})=>{e.cursorHide();let{input:i="",initial:s="",pos:r,showCursor:n=!0,color:o}=t;const a=o||e.styles.placeholder,l=e.styles.primary.inverse;let c=e=>l(e),u=i,h=c(" ");if(e.blink&&!0===e.blink.off&&(c=e=>e,h=""),n&&0===r&&""===s&&""===i)return c(" ");if(n&&0===r&&(i===s||""===i))return c(s[0])+a(s.slice(1));s=An(s)?`${s}`:"",i=An(i)?`${i}`:"";const d=s&&s.startsWith(i)&&s!==i;let p=d?c(s[i.length]):h;if(r!==i.length&&!0===n&&(u=i.slice(0,r)+c(i[r])+i.slice(r+1),p=""),!1===n&&(p=""),d){const t=e.styles.unstyle(u+p);return u+p+a(s.slice(t.length))}return u+p})(this,{input:a,initial:n,pos:r,showCursor:d,color:this.styles.muted}),this.isValue(a)||(a=this.styles.muted(this.symbols.ellipsis)),e.result&&(this.values[o]=await e.result.call(this,y,e,t)),d&&(m=u(m)),e.error?a+=(a?" ":"")+h(e.error.trim()):e.hint&&d&&(a+=(a?`\n${" ".repeat(this.longest+6)}`:"")+l(e.hint.trim())),v())}}class Nn extends Xe.Input{constructor(e){super(e),this.cursorShow()}async render(){var e;const t=this.state.size,i=await this.prefix(),s=await this.separator(),r=await this.message();let n=[i," ",this.styles.muted(await this.element("hint")),s].filter(Boolean).join("");this.state.prompt=n;const o=await this.header();let a=await this.format();const l=this.styles.unstyle(a);null!=(e=this.input)&&e.length||!l.length?this.cursorShow():(this.cursorHide(),a=this.styles.highlight(l[0])+this.styles.placeholder(l.slice(1)));const c=await this.footer();n+=" "+a,this.clear(t),this.write([o,r,n,await this.error(),c].filter(Boolean).join("\n")),this.restore()}}class Ln extends Xe.Select{format(){return!this.state.submitted||this.state.cancelled?"":Array.isArray(this.selected)?this.selected.map(e=>this.styles.primary(this.symbols.middot+" "+e.message)).join("\n"):this.styles.primary(this.symbols.middot+" "+this.selected.message)}async indicator(e){return this.multiple&&"separator"!==e.role&&"___done"!==e.name?this.symbols.radio[e.enabled?"on":"off"]:""}async pointer(e,t){const i=await this.element("pointer",e,t);if(!i)return;const s=this.index===t,r=s?this.styles.primary:e=>e,n=await this.resolve(i[s?"on":"off"]||i,this.state);return s?r(n):" ".repeat(n.length)}async render(){const{submitted:e,size:t}=this.state;let i="";const s=await this.header(),r=await this.prefix(),n=await this.message();!1!==this.options.promptLine&&(i=[r,n].join(" "),this.state.prompt=i);const o=await this.format(),a=await this.error()||await this.hint(),l=await this.renderChoices(),c=await this.footer();o&&(i+="\n"+o),a&&!i.includes(a)&&(i+="\n"+a),e&&!o&&!l.trim()&&this.multiple&&null!=this.emptyError&&(i+=this.styles.danger(this.emptyError)),this.clear(t),this.write([s,i,l,c].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}}class jn extends Ln{constructor(e){super({...e,multiple:!0})}toggle(e,t){super.toggle(e,t)}async toChoices(e,t){const i=[{role:"separator"},{message:this.styles.bold("Done"),name:"___done"}];return"function"==typeof e&&(e=await e.call(this)),e instanceof Promise&&(e=await e),super.toChoices([...e,...i],t)}submit(){return"___done"===this.focused.name?super.submit():this.space()}next(){return this.index===this.choices.length-1?super.next():this.end()}}const $n=e=>(e.register("textinput",Nn),e.register("selectinput",Ln),e.register("multiselectinput",jn),e.register("forminput",Pn),e);var Dn=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),_n=Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}})),Fn=function(){function e(){for(var t=this,i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tag=function(e){for(var i=arguments.length,s=Array(i>1?i-1:0),r=1;r<i;r++)s[r-1]=arguments[r];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,s))))},s.length>0&&Array.isArray(s[0])&&(s=s[0]),this.transformers=s.map(function(e){return"function"==typeof e?e():e}),this.tag}return Dn(e,[{key:"interimTag",value:function(e,t){for(var i=arguments.length,s=Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];return this.tag(_n,e.apply(void 0,[t].concat(s)))}},{key:"processSubstitutions",value:function(e,t,i){var s=this.transformSubstitution(e.shift(),t);return"".concat(t,s,i)}},{key:"transformString",value:function(e){return this.transformers.reduce(function(e,t){return t.onString?t.onString(e):e},e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce(function(e,i){return i.onSubstitution?i.onSubstitution(e,t):e},e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce(function(e,t){return t.onEndResult?t.onEndResult(e):e},e)}}]),e}(),Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}},Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var i=t.match(/^[^\S\n]*(?=\S)/gm),s=i&&Math.min.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(i.map(function(e){return e.length})));if(s){var r=new RegExp("^.{"+s+"}","gm");return t.replace(r,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},Bn=function(e,t){return{onEndResult:function(i){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return i.replace(e,t)}}},Un=function(e,t){return{onSubstitution:function(i,s){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==i?i:i.toString().replace(e,t)}}},qn={separator:"",conjunction:"",serial:!1},Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;return{onSubstitution:function(t,i){if(Array.isArray(t)){var s=t.length,r=e.separator,n=e.conjunction,o=e.serial,a=i.match(/(\n?[^\S\n]+)$/);if(t=t.join(a?r+a[1]:r+" "),n&&s>1){var l=t.lastIndexOf(r);t=t.slice(0,l)+(o?r:"")+" "+n+t.slice(l+1)}}return t}}},Vn=function(e){return{onSubstitution:function(t,i){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}},Wn=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e};new Fn(Hn({separator:","}),Gn,Mn),new Fn(Hn({separator:",",conjunction:"and"}),Gn,Mn),new Fn(Hn({separator:",",conjunction:"or"}),Gn,Mn),new Fn(Vn("\n"),function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(Wn):Wn(e)?e:""}}},Hn,Gn,Mn),new Fn(Vn("\n"),Hn,Gn,Mn,Un(/&/g,"&amp;"),Un(/</g,"&lt;"),Un(/>/g,"&gt;"),Un(/"/g,"&quot;"),Un(/'/g,"&#x27;"),Un(/`/g,"&#x60;")),new Fn(Bn(/(?:\n(?:\s*))+/g," "),Mn),new Fn(Bn(/(?:\n\s*)/g,""),Mn),new Fn(Hn({separator:","}),Bn(/(?:\s+)/g," "),Mn),new Fn(Hn({separator:",",conjunction:"or"}),Bn(/(?:\s+)/g," "),Mn),new Fn(Hn({separator:",",conjunction:"and"}),Bn(/(?:\s+)/g," "),Mn),new Fn(Hn,Gn,Mn),new Fn(Hn,Bn(/(?:\s+)/g," "),Mn);var zn=new Fn(Gn,Mn);new Fn(Gn("all"),Mn);var Xn=k(function(e){const t=e.exports;e.exports.default=t;const i="[",s="]",r="",n=";",o="Apple_Terminal"===process.env.TERM_PROGRAM;t.cursorTo=(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");return"number"!=typeof t?i+(e+1)+"G":i+(t+1)+";"+(e+1)+"H"},t.cursorMove=(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");let s="";return e<0?s+=i+-e+"D":e>0&&(s+=i+e+"C"),t<0?s+=i+-t+"A":t>0&&(s+=i+t+"B"),s},t.cursorUp=(e=1)=>i+e+"A",t.cursorDown=(e=1)=>i+e+"B",t.cursorForward=(e=1)=>i+e+"C",t.cursorBackward=(e=1)=>i+e+"D",t.cursorLeft="[G",t.cursorSavePosition=o?"7":"[s",t.cursorRestorePosition=o?"8":"[u",t.cursorGetPosition="[6n",t.cursorNextLine="[E",t.cursorPrevLine="[F",t.cursorHide="[?25l",t.cursorShow="[?25h",t.eraseLines=e=>{let i="";for(let s=0;s<e;s++)i+=t.eraseLine+(s<e-1?t.cursorUp():"");return e&&(i+=t.cursorLeft),i},t.eraseEndLine="[K",t.eraseStartLine="[1K",t.eraseLine="[2K",t.eraseDown="[J",t.eraseUp="[1J",t.eraseScreen="[2J",t.scrollUp="[S",t.scrollDown="[T",t.clearScreen="c",t.clearTerminal="win32"===process.platform?`${t.eraseScreen}${i}0f`:`${t.eraseScreen}${i}3J${i}H`,t.beep=r,t.link=(e,t)=>[s,"8",n,n,t,r,e,s,"8",n,n,r].join(""),t.image=(e,t={})=>{let i=`${s}1337;File=inline=1`;return t.width&&(i+=`;width=${t.width}`),t.height&&(i+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(i+=";preserveAspectRatio=0"),i+":"+e.toString("base64")+r},t.iTerm={setCwd:(e=process.cwd())=>`${s}50;CurrentDir=${e}${r}`,annotation:(e,t={})=>{let i=`${s}1337;`;const n=void 0!==t.x,o=void 0!==t.y;if((n||o)&&(!n||!o||void 0===t.length))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),i+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",i+=t.length>0?(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):e,i+r}}}),Yn=(e,t=process.argv)=>{const i=e.startsWith("-")?"":1===e.length?"-":"--",s=t.indexOf(i+e),r=t.indexOf("--");return-1!==s&&(-1===r||s<r)};const{env:Kn}=process;let Jn;function Zn(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Qn(e,t){if(0===Jn)return 0;if(Yn("color=16m")||Yn("color=full")||Yn("color=truecolor"))return 3;if(Yn("color=256"))return 2;if(e&&!t&&void 0===Jn)return 0;const i=Jn||0;if("dumb"===Kn.TERM)return i;if("win32"===process.platform){const e=v.default.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in Kn)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in Kn)||"codeship"===Kn.CI_NAME?1:i;if("TEAMCITY_VERSION"in Kn)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Kn.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in Kn)return 1;if("truecolor"===Kn.COLORTERM)return 3;if("TERM_PROGRAM"in Kn){const e=parseInt((Kn.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Kn.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Kn.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Kn.TERM)||"COLORTERM"in Kn?1:i}function eo(e){if(/^\d{3,4}$/.test(e)){const t=/(\d{1,2})(\d{2})/.exec(e);return{major:0,minor:parseInt(t[1],10),patch:parseInt(t[2],10)}}const t=(e||"").split(".").map(e=>parseInt(e,10));return{major:t[0],minor:t[1],patch:t[2]}}function to(e){const{env:t}=process;if("FORCE_HYPERLINK"in t)return!(t.FORCE_HYPERLINK.length>0&&0===parseInt(t.FORCE_HYPERLINK,10));if(Yn("no-hyperlink")||Yn("no-hyperlinks")||Yn("hyperlink=false")||Yn("hyperlink=never"))return!1;if(Yn("hyperlink=true")||Yn("hyperlink=always"))return!0;if(!function(e){return Zn(Qn(e,e&&e.isTTY))}(e))return!1;if(e&&!e.isTTY)return!1;if("win32"===process.platform)return!1;if("CI"in t)return!1;if("TEAMCITY_VERSION"in t)return!1;if("TERM_PROGRAM"in t){const e=eo(t.TERM_PROGRAM_VERSION);if("iTerm.app"===t.TERM_PROGRAM)return 3===e.major?e.minor>=1:e.major>3}if("VTE_VERSION"in t){if("0.50.0"===t.VTE_VERSION)return!1;const e=eo(t.VTE_VERSION);return e.major>0||e.minor>=50}return!1}Yn("no-color")||Yn("no-colors")||Yn("color=false")||Yn("color=never")?Jn=0:(Yn("color")||Yn("colors")||Yn("color=true")||Yn("color=always"))&&(Jn=1),"FORCE_COLOR"in Kn&&(Jn="true"===Kn.FORCE_COLOR?1:"false"===Kn.FORCE_COLOR?0:0===Kn.FORCE_COLOR.length?1:Math.min(parseInt(Kn.FORCE_COLOR,10),3)),Zn(Qn(!0,R.default.isatty(1))),Zn(Qn(!0,R.default.isatty(2)));var io={supportsHyperlink:to,stdout:to(process.stdout),stderr:to(process.stderr)},so=k(function(e){const t=(e,t,{target:i="stdout",...s}={})=>io[i]?Xn.link(e,t):!1===s.fallback?e:"function"==typeof s.fallback?s.fallback(e,t):`${e} (‚Äã${t}‚Äã)`;e.exports=(e,i,s={})=>t(e,i,s),e.exports.stderr=(e,i,s={})=>t(e,i,{target:"stderr",...s}),e.exports.isSupported=io.stdout,e.exports.stderr.isSupported=io.stderr}),ro={"gatsby-source-wordpress":{type:"object",keys:{url:{type:"string",flags:{description:"This should be the full url of your GraphQL endpoint set up by WP GraphQL",presence:"required"}}}},"gatsby-source-contentful":{type:"object",externals:[{}],keys:{accessToken:{type:"string",flags:{description:"Contentful delivery api key, when using the Preview API use your Preview API key",presence:"required"}},spaceId:{type:"string",flags:{description:"Contentful spaceId",presence:"required"}},host:{type:"string",flags:{description:"The base host for all the API requests, by default it's 'cdn.contentful.com', if you want to use the Preview API set it to 'preview.contentful.com'. You can use your own host for debugging/testing purposes as long as you respect the same Contentful JSON structure.",default:"cdn.contentful.com"}},environment:{type:"string",flags:{description:"The environment to pull the content from, for more info on environments check out this [Guide](https://www.contentful.com/developers/docs/concepts/multiple-environments/).",default:"master"}},downloadLocal:{type:"boolean",flags:{description:"Downloads and caches ContentfulAsset's to the local filesystem. Allows you to query a ContentfulAsset's localFile field, which is not linked to Contentful's CDN. Useful for reducing data usage.\nYou can pass in any other options available in the [contentful.js SDK](https://github.com/contentful/contentful.js#configuration).",default:!1}},localeFilter:{type:"function",flags:{description:"Possibility to limit how many locales/nodes are created in GraphQL. This can limit the memory usage by reducing the amount of nodes created. Useful if you have a large space in contentful and only want to get the data from one selected locale.\nFor example, to filter locales on only germany `localeFilter: locale => locale.code === 'de-DE'`\n\nList of locales and their codes can be found in Contentful app -> Settings -> Locales"}},pageLimit:{type:"number",flags:{description:"Number of entries to retrieve from Contentful at a time. Due to some technical limitations, the response payload should not be greater than 7MB when pulling content from Contentful. If you encounter this issue you can set this param to a lower number than 100, e.g 50.",default:100},rules:[{name:"integer"}]},assetDownloadWorkers:{type:"number",flags:{description:"Number of workers to use when downloading contentful assets. Due to technical limitations, opening too many concurrent requests can cause stalled downloads. If you encounter this issue you can set this param to a lower number than 50, e.g 25.",default:50},rules:[{name:"integer"}]},proxy:{type:"object",flags:{description:"Axios proxy configuration. See the [axios request config documentation](https://github.com/mzabriskie/axios#request-config) for further information about the supported values."},keys:{host:{type:"string",flags:{presence:"required"}},port:{type:"number",flags:{presence:"required"}},auth:{type:"object",keys:{username:{type:"string"},password:{type:"string"}}}}},useNameForId:{type:"boolean",flags:{description:"Use the content's `name` when generating the GraphQL schema e.g. a Content Type called `[Component] Navigation bar` will be named `contentfulComponentNavigationBar`.\n    When set to `false`, the content's internal ID will be used instead e.g. a Content Type with the ID `navigationBar` will be called `contentfulNavigationBar`.\n\n    Using the ID is a much more stable property to work with as it will change less often. However, in some scenarios, Content Types' IDs will be auto-generated (e.g. when creating a new Content Type without specifying an ID) which means the name in the GraphQL schema will be something like `contentfulC6XwpTaSiiI2Ak2Ww0oi6qa`. This won't change and will still function perfectly as a valid field name but it is obviously pretty ugly to work with.\n\n    If you are confident your Content Types will have natural-language IDs (e.g. `blogPost`), then you should set this option to `false`. If you are unable to ensure this, then you should leave this option set to `true` (the default).",default:!0}},plugins:{type:"array"},richText:{type:"object",flags:{default:{}},keys:{resolveFieldLocales:{type:"boolean",flags:{description:"If you want to resolve the locales in fields of assets and entries that are referenced by rich text (e.g., via embedded entries or entry hyperlinks), set this to `true`. Otherwise, fields of referenced assets or entries will be objects keyed by locale.",default:!1}}}}}},"gatsby-source-sanity":{type:"object",keys:{projectId:{type:"string",flags:{description:"Your Sanity project's ID",presence:"required"}},dataset:{type:"string",flags:{description:"The dataset to fetch from",presence:"required"}}}},"gatsby-source-shopify":{type:"object",keys:{shopName:{type:"string",flags:{description:"The domain name of your Shopify shop",presence:"required"}},accessToken:{type:"string",flags:{description:"An API access token to your Shopify shop",presence:"required"}}}},"gatsby-source-datocms":{type:"object",keys:{apiToken:{type:"string",flags:{description:"Your read-only API token under the Settings > API tokens section of your administrative area in DatoCMS",presence:"required"}}}},"gatsby-source-agility":{type:"object",keys:{guid:{type:"string",flags:{description:"your Agility Content Fetch API Guid",presence:"required"}}}},"gatsby-plugin-postcss":{},"gatsby-plugin-styled-components":{},"gatsby-plugin-emotion":{},"gatsby-plugin-sass":{},"gatsby-plugin-theme-ui":{},"gatsby-plugin-google-analytics":{type:"object",keys:{trackingId:{type:"string",flags:{description:"The property ID; the tracking code won't be generated without it",presence:"required"}},head:{type:"boolean",flags:{default:!1,description:"Defines where to place the tracking script - `true` in the head and `false` in the body"}},anonymize:{type:"boolean",flags:{default:!1}},respectDNT:{type:"boolean",flags:{default:!1}},exclude:{type:"array",flags:{default:[],description:"Avoids sending pageview hits from custom paths"},items:[{type:"string"}]},pageTransitionDelay:{type:"number",flags:{default:0,description:"Delays sending pageview hits on route update (in milliseconds)"}},optimizeId:{type:"string",flags:{description:"Enables Google Optimize using your container Id"}},experimentId:{type:"string",flags:{description:"Enables Google Optimize Experiment ID"}},variationId:{type:"string",flags:{description:"Set Variation ID. 0 for original 1,2,3...."}},defer:{type:"boolean",flags:{description:"Defers execution of google analytics script after page load"}},sampleRate:{type:"number"},siteSpeedSampleRate:{type:"number"},cookieDomain:{type:"string"}}},"gatsby-plugin-sitemap":{},"gatsby-plugin-mdx":{},"gatsby-plugin-offline":{},"gatsby-plugin-manifest":{type:"object",keys:{name:{type:"string"},short_name:{type:"string"},description:{type:"string"},lang:{type:"string"},localize:{type:"array",items:[{type:"object",keys:{start_url:{type:"string"},name:{type:"string"},short_name:{type:"string"},description:{type:"string"},lang:{type:"string"}}}]},start_url:{type:"string"},background_color:{type:"string"},theme_color:{type:"string"},display:{type:"string"},legacy:{type:"boolean"},include_favicon:{type:"boolean"},icon:{type:"string"},theme_color_in_head:{type:"boolean"},crossOrigin:{type:"string",flags:{only:!0},allow:["use-credentials","anonymous"]},cache_busting_mode:{type:"string",flags:{only:!0},allow:["query","name","none"]},icons:{type:"array",items:[{type:"object",keys:{src:{type:"string"},sizes:{type:"string"},type:{type:"string"},purpose:{type:"string"}}}]},icon_options:{type:"object",keys:{purpose:{type:"string"}}}}}};const no=["string","boolean","number"];function oo(e){const t=[Ye,Ke];for(const i of t)if(e in i)return i[e].message;return e}function ao(e){return N.blueBright(so("the plugin docs",`https://www.gatsbyjs.com/plugins/${e}/`,{fallback:(e,t)=>t}))}const lo=([e,t])=>{var i;return"required"===(null==t||null==(i=t.flags)?void 0:i.presence)},co=([e,t])=>{var i,s,r,n;return{name:e,initial:(null==(i=t.flags)?void 0:i.default)&&no.includes(typeof(null==(s=t.flags)?void 0:s.default))?null==(r=t.flags)?void 0:r.default.toString():void 0,message:e,hint:null==(n=t.flags)?void 0:n.description}};function uo(e,t){let i=0;for(let s of t.patterns){let t=e.match(s);if(t)for(let e of t)i+=e.length}return e.length-i}const ho=process.stdout.columns,po=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^a-z0-9_.]+/g,"-").replace(/^[_\-.]+|[_\-.]+$/g,"");var fo={js:{message:"JavaScript"},ts:{message:"TypeScript"}};const mo=/[<>:"/\\|?*\u0000-\u001F]/g,yo=/^(con|prn|aux|nul|com\d|lpt\d)$/i,go=(e,t=!1)=>{const i=Object.entries(e).map(([e,t])=>({name:e,message:t.message}));return t?i:[{name:"none",message:"No (or I'll add it later)"},{name:"‚Äì",role:"separator",message:"‚Äì"},...i]};function wo(e){return e?(e=e.trim(),mo.test(e)?(Mr.warn(`The destination "${e}" is not a valid filename. Please try again, avoiding special characters.`),!1):"win32"===process.platform&&yo.test(e)?(Mr.warn(`The destination "${e}" is not a valid Windows filename. Please try another name`),!1):!b.default.existsSync(w.default.resolve(e))||(Mr.warn(`The destination "${e}" already exists. Please choose a different name`),!1)):(Mr.warn("You have not provided a directory name for your site. Please do so when running with the 'y' flag."),!1)}const bo=e=>"win32"===process.platform?"":e;var vo;!function(e){e.yes="-y",e.ts="-ts"}(vo||(vo={}));const Eo={js:"https://github.com/gatsbyjs/gatsby-starter-minimal.git",ts:"https://github.com/gatsbyjs/gatsby-starter-minimal-ts.git"};exports.DEFAULT_STARTERS=Eo,exports.run=async function(){var e,t;const{flags:i,dirName:r}=function(e){const{flags:t,dirName:i}=e.reduce((e,t)=>{switch(t){case vo.yes:e.flags.yes=!0;break;case vo.ts:e.flags.ts=!0;break;default:if(t.startsWith("-")){Mr.warn(`Found unknown argument "${t}", ignoring. Known arguments are: ${vo.yes}, ${vo.ts}`);break}e.dirName=t}return e},{flags:{yes:!1,ts:!1},dirName:""});return{flags:t,dirName:i}}(process.argv.slice(2)),{version:n}=require("../package.json");Mr.info(N.grey(`create-gatsby version ${n}`)),Mr.info(`\n\n\n${function(e,t=" ",i=ho){return t.repeat(Math.round((i-(e=>{if(""===e)return 0;const t=(e=>"string"==typeof e?e.replace((({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")})(),""):e)(e);return""===t?0:t.match((()=>{const e="\\ud800-\\udfff",t=`[${e}]`,i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",s="\\ud83c[\\udffb-\\udfff]",r=`[^${e}]`,n="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",a=`(?:${i}|${s})?`,l="[\\ufe0e\\ufe0f]?",c=l+a+`(?:\\u200d(?:${[r,n,o].join("|")})${l+a})*`,u=`(?:${[`${r}${i}?`,i,n,o,t,"[\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93]"].join("|")})`;return new RegExp(`(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)|${s}(?=${s})|${u+c}`,"g")})()).length})(e))/2))+e}(N.blueBright.bold.underline("Welcome to Gatsby!"))}\n\n\n`),i.yes||Mr.info(((e,t=ho)=>function(e,t){(t=t||{}).width=t.hasOwnProperty("width")?t.width:80,t.ignoreAnsi=!t.hasOwnProperty("ignoreAnsi")||t.ignoreAnsi,t.patterns=t.hasOwnProperty("patterns")?t.patterns:[],t.ignoreAnsi&&(t.patterns=[/\u001b.*?m/g].concat(t.patterns));let i=e.split("\n"),s=[];for(let e of i){let i=e.split(" "),r="";for(let e of i)uo(e,t)+uo(r,t)+1>t.width&&(s.push(r),r=""),r&&(r+=" "),r+=e;s.push(r)}return s.join("\n")}(e,{width:t}))(`This command will generate a new Gatsby site for you in ${N.bold(process.cwd())} with the setup you select. ${N.white.bold("Let's answer some questions:\n\n")}`,process.stdout.columns));const o=new Xe;let a;o.use($n);let l="";if(i.yes){if(l=r,!wo(r))return;a=po(r)}else{const{name:e}=await o.prompt({type:"textinput",name:"name",message:"What would you like to call your site?",initial:"My Gatsby Site",format:e=>N.cyan(e)});a=po(e),l=e}const c=((e,t)=>{const i={type:"textinput",name:"project",message:"What would you like to name the folder where your site will be created?",hint:w.default.basename(process.cwd()),separator:"/",initial:e,format:e=>N.cyan(e),validate:wo,skip:t.yes},s={type:"selectinput",name:"language",message:"Will you be using JavaScript or TypeScript?",hint:"(Single choice) Arrow keys to move, enter to confirm",choices:go(fo,!0)},r=[{type:"selectinput",name:"cms",message:"Will you be using a CMS?",hint:"(Single choice) Arrow keys to move, enter to confirm",choices:go(Ye)},{type:"selectinput",name:"styling",message:"Would you like to install a styling system?",hint:"(Single choice) Arrow keys to move, enter to confirm",choices:go(Ke)},{type:"multiselectinput",name:"features",message:"Would you like to install additional features with other plugins?",hint:'(Multiple choice) Use arrow keys to move, spacebar to select, and confirm with an enter on "Done"',choices:go(Je,!0)}];return t.yes?i:t.ts?[i,...r]:[i,s,...r]})(a,i),u=await o.prompt(c);u.project=u.project.trim(),i.yes&&(u.language="js"),i.ts&&(u.language="ts");const h=[`${bo("üõ†  ")}Create a new Gatsby site in the folder ${N.magenta(u.project)}`],d=[],p=[];let f={};if(u.cms&&"none"!==u.cms){h.push(`${bo("üìö ")}Install and configure the plugin for ${N.magenta(Ye[u.cms].message)}`);const e=Ye[u.cms].plugins||[];d.push(u.cms,...e),p.push(u.cms,...Ye[u.cms].dependencies||[],...e),f={...f,...Ye[u.cms].options}}if(u.styling&&"none"!==u.styling){var m;h.push(`${bo("üé® ")}Get you set up to use ${N.magenta(Ke[u.styling].message)} for styling your site`);const e=Ke[u.styling].plugins||[];!1===(null==(m=Ke[u.styling])?void 0:m.isGatsbyPlugin)?d.push(...e):d.push(u.styling,...e),p.push(u.styling,...Ke[u.styling].dependencies||[],...e),f={...f,...Ke[u.styling].options}}if(null!=(e=u.features)&&e.length){var y,g;h.push(`${bo("üîå ")}Install ${null==(y=u.features)?void 0:y.map(e=>N.magenta(e)).join(", ")}`),d.push(...u.features);const e=null==(g=u.features)?void 0:g.map(e=>{const t=Je[e].plugins||[];return d.push(...t),[...Je[e].dependencies||[],...t]}),t=[].concat.apply([],e);p.push(...u.features,...t),f=u.features.reduce((e,t)=>({...e,...Je[t].options}),f)}const b=(e=>{const t=[];return e.forEach(e=>{const i=ro[e];if(!i||"string"==typeof i||!("keys"in i))return;const s=null==i?void 0:i.keys;if(!s)return;const r=Object.entries(s).filter(lo).map(co);r.length>0&&t.push({type:"forminput",name:e,multiple:!0,message:zn`
          Configure the ${oo(e)} plugin.
          See ${ao(e)} for help.
          ${r.length>1?N.green("Use arrow keys to move between fields, and enter to finish"):""}
          `,choices:r})}),t})(d);if(b.length){Mr.info("\nGreat! A few of the selections you made need to be configured. Please fill in the options for each plugin now:\n");const e=new Xe;e.use($n),f={...f,...await e.prompt(b)}}if(!i.yes){Mr.info(`\n\n${N.bold("Thanks! Here's what we'll now do:")}\n\n    ${h.join("\n    ")}\n  `);const{confirm:e}=await(new Xe).prompt({type:"confirm",name:"confirm",initial:"Yes",message:"Shall we do this?",format:e=>e?N.greenBright("Yes"):N.red("No")});if(!e)return void Mr.info("OK, bye!")}const v=Eo[u.language||"js"];await async function(e,t,i,r){const n=w.default.resolve(t);await(async(e,t,i)=>{const s=function(e="",t=Gr,i=80){let s=0;Br.write("[?25l");const r=setInterval(()=>{Br.write(`${t[s]} ${e}`),s=(s+1)%t.length,Br.cursorTo(0)},i);return function(){clearInterval(r),Br.cursorTo(0),Br.write("[?25h")}}("Cloning site template"),r=["clone",e,t,"--recursive","--depth=1","--quiet"].filter(e=>Boolean(e));try{await Di("git",r),Mr.success("Created site from template")}catch(e){Mr.panic(e.message)}s(),await Fr.remove(w.default.join(t,".git")),await Fr.remove(w.default.join(t,"LICENSE"))})(e,n),await(async(e,t)=>{const i=w.default.join(e,"package.json"),s=await Fr.readJSON(i);s.name=t,s.description=t,delete s.license;try{const e=await Di("git",["config","user.name"]);e.failed?delete s.author:s.author=e.stdout}catch(e){delete s.author}await Fr.writeJSON(i,s,{spaces:2})})(n,r),await(async(e,t)=>{const i=process.cwd();Mr.info(`${N.blueBright(N.symbols.pointer)} Installing Gatsby...`),process.chdir(e);const r=process.env.npm_config_user_agent;try{const e=Cn(r),i={stderr:"inherit"},n=["--loglevel","error","--color","always","--legacy-peer-deps","--no-audit"];if("yarn"===e&&(()=>{try{return s.execSync("yarnpkg --version",{stdio:"ignore"}),!0}catch(e){return Mr.info('Woops! You have chosen "yarn" as your package manager, but it doesn\'t seem be installed on your machine. You can install it from https://yarnpkg.com/getting-started/install or change your preferred package manager with the command "gatsby options set pm npm". As a fallback, we will run the next steps with npm.'),!1}})()){const e=t.length?["add","--silent",...t]:["--silent"];await Fr.remove("package-lock.json"),await Di("yarnpkg",e,i)}else await Fr.remove("yarn.lock"),await Di("npm",["install",...n],i),await On(),Mr.success("Installed Gatsby"),Mr.info(`${N.blueBright(N.symbols.pointer)} Installing plugins...`),await Di("npm",["install",...n,...t],i),await On();Mr.success("Installed plugins")}catch(e){Mr.panic(e.message)}finally{process.chdir(i)}})(t,i)}(v,u.project,p.map(e=>e.split(":")[0]),a),Mr.success(`Created site in ${N.green(u.project)}`);const E=w.default.resolve(u.project);d.length&&(Mr.info(`${bo("üîå ")}Setting-up plugins...`),await async function(e,t={},i,s){try{const r=(e=>{try{const t=Tn("gatsby/package.json",{paths:[e]});if(!t)throw new Error;return t}catch(t){throw new Error(`Could not find "gatsby" in ${e}. Perhaps it wasn't installed properly?`)}})(i),n=((e,t)=>{try{let i;try{i=Tn("gatsby-cli/lib/handlers/plugin-add",{paths:[e,w.default.dirname(t)]})}catch(e){}try{i||(console.log("looking in old place"),i=Tn("gatsby-cli/lib/plugin-add",{paths:[e,w.default.dirname(t)]}))}catch(e){}if(!i)throw new Error;return i}catch(e){throw new Error("Could not find a suitable version of gatsby-cli. Please report this issue at https://www.github.com/gatsbyjs/gatsby/issues")}})(i,r);await(async(e,t,i={},s,r)=>{try{const{addPlugins:n}=require(e);await n(t,i,s,r)}catch(e){throw new Error(`Something went wrong when trying to add the plugins to the project: ${e.message}`)}})(n,e,t,i,s)}catch(e){return void Mr.error(e.message)}}(d,f,E,[])),u.styling&&null!=(t=Ke[u.styling])&&t.files&&(Mr.info(`${bo("üé® ")}Adding necessary styling files...`),await async function(e,t){if(!t)return;const i=w.default.join(__dirname,".."),s=[];for(const r of t){const t=w.default.resolve(i,r.source),n=w.default.resolve(e,r.targetPath);s.push(kn({source:t,targetPath:n}))}await Promise.all(s)}(u.project,Ke[u.styling].files)),await async function(e,t,i){try{const t=require.resolve("gatsby-core-utils",{paths:[e]}),{addFieldToMinimalSiteMetadata:s}=require(t);await s({root:e},{name:"title",value:i})}catch(e){}}(E,0,l),await async function(e){await(async e=>await Di("git",["init"],{cwd:e}))(e),await(async e=>{Fr.existsSync(w.default.join(e,".gitignore"))||await Fr.writeFile(w.default.join(e,".gitignore"),".cache\nnode_modules\npublic\n")})(e),await(async e=>{await Di("git",["add","-A"],{cwd:e});try{s.execSync('git commit -m "Initial commit from gatsby"',{cwd:e})}catch{Mr.info("Initial git commit failed - removing git support\n"),Fr.removeSync(w.default.join(e,".git"))}})(e)}(u.project);const S="npm"===await Cn()?"npm run":"yarn";Mr.info(zn`
    ${bo("üéâ  ")}Your new Gatsby site ${N.bold(l)} has been successfully created
    at ${N.bold(E)}.
    `),Mr.info(`Start by going to the directory with\n\n  ${N.magenta(`cd ${u.project}`)}\n  `),Mr.info(`Start the local development server with\n\n  ${N.magenta(`${S} develop`)}\n  `),Mr.info(`See all commands at\n\n  ${N.blueBright("https://www.gatsbyjs.com/docs/reference/gatsby-cli/")}\n  `)};
